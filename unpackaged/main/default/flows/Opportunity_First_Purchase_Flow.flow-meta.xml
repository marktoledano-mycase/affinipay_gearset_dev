<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>56.0</apiVersion>
    <assignments>
        <name>Assign_Already_Charged</name>
        <label>Assign Already Charged</label>
        <locationX>771</locationX>
        <locationY>675</locationY>
        <assignmentItems>
            <assignToReference>varIssue_AlertRep</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Linked Subscription Already Charged - Please Review Below</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Firm_Charged_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Discount_Confirmation</name>
        <label>Assign Discount Confirmation</label>
        <locationX>1321</locationX>
        <locationY>616</locationY>
        <assignmentItems>
            <assignToReference>DiscountValidationText</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Discounts Will Be Applied</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>First_Purchase_Confirmation</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Issue_Subscription_Start_Date</name>
        <label>Assign Issue Subscription Start Date</label>
        <locationX>542</locationX>
        <locationY>918</locationY>
        <assignmentItems>
            <assignToReference>varIssue_AlertRep</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>The Subscription Start Date needs to be greater or equal to today&#39;s date.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Issue_Alert</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Mismatched_Firm_ID</name>
        <label>Assign Mismatched Firm ID</label>
        <locationX>406</locationX>
        <locationY>872</locationY>
        <assignmentItems>
            <assignToReference>varIssue_AlertRep</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>The Billing Subscription is linked to a different Account than the Opportunity.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Issue_Alert</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Missing_Prod_Env</name>
        <label>Assign Missing Prod Env</label>
        <locationX>265</locationX>
        <locationY>862</locationY>
        <assignmentItems>
            <assignToReference>varIssue_AlertRep</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>This Opportunity needs a linked Product Environment before first purchasing.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Issue_Alert</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Missing_Subscription</name>
        <label>Assign Missing Subscription</label>
        <locationX>44</locationX>
        <locationY>871</locationY>
        <assignmentItems>
            <assignToReference>varIssue_AlertRep</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>This Opportunity is not linked to a Zuora Billing Subscription.</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Issue_Alert</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity</name>
        <label>Assign Opportunity</label>
        <locationX>1598</locationX>
        <locationY>477</locationY>
        <assignmentItems>
            <assignToReference>varOpportunity.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunity.First_Purchase_Date__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>f_FirstPurchaseDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunity.Billing_Processed__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Validation_Values</name>
        <label>Assign Validation Values</label>
        <locationX>951</locationX>
        <locationY>525</locationY>
        <assignmentItems>
            <assignToReference>varFP_validation</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fp_Validation</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varBillingPeriodMatch</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Picker_Evaluation_Against_Subscription.BillingPeriodMatch</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>add_on_fp_mismatch</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Picker_Evaluation_Against_Subscription.AddOnMismatch</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>main_product_fp_mismatch</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>f_MainProductFP_mismatch</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Evaluation_Outcome</targetReference>
        </connector>
    </assignments>
    <decisions>
        <name>Action</name>
        <label>Action</label>
        <locationX>1180</locationX>
        <locationY>230</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Confirmed</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>billingCycleConfirmation.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Next</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Discounts_Confirmation</targetReference>
            </connector>
            <label>Confirmed</label>
        </rules>
    </decisions>
    <decisions>
        <name>Billing_Subscription_Evaluation</name>
        <label>Billing Subscription Evaluation</label>
        <locationX>249</locationX>
        <locationY>639</locationY>
        <defaultConnector>
            <targetReference>FP_Decision</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Continue</defaultConnectorLabel>
        <rules>
            <name>Missing_Billing_Subscription</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.Billing_Subscription__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Missing_Subscription</targetReference>
            </connector>
            <label>Missing Billing Subscription</label>
        </rules>
        <rules>
            <name>Already_Charged</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.Billing_Subscription__r.First_Time_Charge__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Already_Charged</targetReference>
            </connector>
            <label>Already Charged</label>
        </rules>
        <rules>
            <name>Missing_Product_Environment</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.Product_Environment__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Missing_Prod_Env</targetReference>
            </connector>
            <label>Missing Product Environment</label>
        </rules>
        <rules>
            <name>Mismatched_Firm_ID</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.Billing_Subscription__r.Billing_Account__r.Firm_ID__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Get_Opportunity.Firm_ID__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Mismatched_Firm_ID</targetReference>
            </connector>
            <label>Mismatched Firm ID</label>
        </rules>
    </decisions>
    <decisions>
        <name>Discount_Check</name>
        <label>Discount Check</label>
        <locationX>1141</locationX>
        <locationY>582</locationY>
        <defaultConnector>
            <targetReference>First_Purchase_Confirmation</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Has_Discounts</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Discounts_Confirmation</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Discount_Confirmation</targetReference>
            </connector>
            <label>Has Discounts</label>
        </rules>
    </decisions>
    <decisions>
        <name>Evaluation_Outcome</name>
        <label>Evaluation Outcome</label>
        <locationX>943</locationX>
        <locationY>417</locationY>
        <defaultConnector>
            <targetReference>First_Purchase_Validation</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Validated_Needs_Confirmation</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fp_Validation</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Product_Picker_Evaluation_Against_Subscription.BillingPeriodMatch</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Billing_Cycle_Change_Confirmation</targetReference>
            </connector>
            <label>Validated Needs Confirmation</label>
        </rules>
        <rules>
            <name>Validated</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>fp_Validation</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Discounts_Confirmation</targetReference>
            </connector>
            <label>Validated</label>
        </rules>
    </decisions>
    <decisions>
        <name>FP_Decision</name>
        <label>FP Decision</label>
        <locationX>539</locationX>
        <locationY>726</locationY>
        <defaultConnector>
            <targetReference>Assign_Issue_Subscription_Start_Date</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Can_First_Purchase</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.Billing_Subscription__r.Subscription_Start_Date__c</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>$Flow.CurrentDate</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Subscription_Summary</targetReference>
            </connector>
            <label>Can First Purchase</label>
        </rules>
    </decisions>
    <decisions>
        <description>Makes sure stage is in Application/Approval which is the only stage this flow can be executed from</description>
        <name>Stage_Evaluation</name>
        <label>Stage Evaluation</label>
        <locationX>147</locationX>
        <locationY>287</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Approvals</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity.StageName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Approvals</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_Opportunity.Billing_Subscription__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Subscription_Charges</targetReference>
            </connector>
            <label>Approvals</label>
        </rules>
    </decisions>
    <description>Screen flow that enables sales reps to add discounts to a converted deal and/or adjust the subscription start date in Zuora if needed. Works for an opportunity where the firm is billed out of Zuora. -- auto-adds SKUs based on Zuora subscription</description>
    <environments>Default</environments>
    <formulas>
        <name>f_FirstPurchaseDate</name>
        <dataType>Date</dataType>
        <expression>IF( {!selection_options.value} = &quot;FP Date&quot;, {!Subscription_Start_Date}, 
IF( {!fp_confirmation_buttons.value} = &quot;Adjust&quot;, {!Adjusted_Subscription_Start_Date},
{!Get_Opportunity.Billing_Subscription__r.Subscription_Start_Date__c}
))</expression>
    </formulas>
    <formulas>
        <name>f_MainProductFP_mismatch</name>
        <dataType>Boolean</dataType>
        <expression>IF( 
OR ( {!Product_Picker_Evaluation_Against_Subscription.QuantityMatch} = FALSE, 
{!Product_Picker_Evaluation_Against_Subscription.TierMatch} = FALSE),
TRUE, FALSE
)</expression>
    </formulas>
    <formulas>
        <name>f_SubscriptionTableHeader</name>
        <dataType>String</dataType>
        <expression>&quot;Current Subscription Start Date: &quot; &amp; TEXT({!Get_Opportunity.Billing_Subscription__r.Subscription_Start_Date__c})</expression>
    </formulas>
    <formulas>
        <name>fp_Validation</name>
        <dataType>Boolean</dataType>
        <expression>IF( {!Get_Opportunity.Record_Type_Name__c} = &quot;MyCase&quot;, 
IF( 
AND( 
{!Product_Picker_Evaluation_Against_Subscription.QuantityMatch} = TRUE, 
{!Product_Picker_Evaluation_Against_Subscription.TierMatch} = TRUE,
{!Product_Picker_Evaluation_Against_Subscription.AddOnMismatch} = FALSE
), 
TRUE, FALSE), 
IF( {!Product_Picker_Evaluation_Against_Subscription.QuantityMatch} = TRUE, 
TRUE, FALSE)
)</expression>
    </formulas>
    <interviewLabel>Opportunity: First Purchase Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity: First Purchase Flow</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>FREE_FORM_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordLookups>
        <name>Discounts</name>
        <label>Discounts</label>
        <locationX>258</locationX>
        <locationY>417</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Billing_Subscription_Evaluation</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_Promo__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Discounts_Confirmation</name>
        <label>Discounts Confirmation</label>
        <locationX>1146</locationX>
        <locationY>417</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Discount_Check</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_Promo__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity</name>
        <label>Get Opportunity</label>
        <locationX>168</locationX>
        <locationY>172</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Stage_Evaluation</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Opportunity_SKUs</name>
        <label>Opportunity SKUs</label>
        <locationX>686</locationX>
        <locationY>527</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Product_Picker_Evaluation_Against_Subscription</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Subscription_Charges</name>
        <label>Subscription Charges</label>
        <locationX>137</locationX>
        <locationY>417</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Discounts</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Billing_Subscription__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.Billing_Subscription__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Zuora_Effective_End_Date__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Billing_Subscription_Product_Charge__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Opportunity</name>
        <label>Update Opportunity</label>
        <locationX>1739</locationX>
        <locationY>477</locationY>
        <connector>
            <targetReference>First_Purchase_Flow</targetReference>
        </connector>
        <inputReference>varOpportunity</inputReference>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>Billing_Cycle_Change_Confirmation</name>
        <label>Billing Cycle Change Confirmation</label>
        <locationX>985</locationX>
        <locationY>229</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Action</targetReference>
        </connector>
        <fields>
            <name>Billing_Cycle_Change_Confirmation_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Billing_Cycle_Change_Confirmation_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>billing_cycle_change_display</name>
                    <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px; color: rgb(238, 7, 7);&quot;&gt;Alert: You will be changing this firm from a &lt;/span&gt;&lt;strong style=&quot;font-size: 14px; color: rgb(238, 7, 7);&quot;&gt;{!Product_Picker_Evaluation_Against_Subscription.subscribedBillingCycle}&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; color: rgb(238, 7, 7);&quot;&gt; to a &lt;/span&gt;&lt;strong style=&quot;font-size: 14px; color: rgb(238, 7, 7);&quot;&gt;{!Product_Picker_Evaluation_Against_Subscription.OpportunityBillingCycle}&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; color: rgb(238, 7, 7);&quot;&gt; billing cycle.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Confirm by clicking &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Next&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; to continue or &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Cancel&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; to update the &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Product Picker&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>Billing_Cycle_Change_Confirmation_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Billing_Cycle_Change_Confirmation_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>billingCycleConfirmation</name>
                    <extensionName>c:fsc_flowButtonBar</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>alignment</name>
                        <value>
                            <stringValue>right</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>orientation</name>
                        <value>
                            <stringValue>horizontal</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showLines</name>
                        <value>
                            <stringValue>above</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>actionMode</name>
                        <value>
                            <stringValue>navigation</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>buttons</name>
                        <value>
                            <stringValue>[{&quot;label&quot;:&quot;Cancel&quot;,&quot;value&quot;:&quot;Cancel&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;destructive-text&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Next&quot;,&quot;value&quot;:&quot;Next&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:null,&quot;index&quot;:1}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Firm_Charged_Screen</name>
        <label>Firm Charged Screen</label>
        <locationX>957</locationX>
        <locationY>745</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>alreadyChargedDisplay</name>
            <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;{!varIssue_AlertRep}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Firm_Charged_Screen_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Firm_Charged_Screen_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>chargedMatchDisplay</name>
                    <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Ensure &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Product Picker&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; matches subscription below and all &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Required Fields&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; are populated before moving to &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Closed Won&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>Firm_Charged_Screen_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Firm_Charged_Screen_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>chargedSubscriptionStartDisplay</name>
                    <extensionName>c:ReadOnlyScreenComponent</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Current Subscription Start Date</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>value</name>
                        <value>
                            <elementReference>Get_Opportunity.Billing_Subscription__r.Subscription_Start_Date__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>4</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Firm_Charged_Screen_Section2_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>alreadyChargedSubscriptionDisplay</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Billing_Subscription_Product_Charge__c</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>objectName</name>
                        <value>
                            <stringValue>Billing_Subscription_Product_Charge__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>Subscription_Charges</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideCheckboxColumn</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideCheckboxColumn</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_isRequired</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_singleRowSelection</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideHeaderActions</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideHeaderActions</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideClearSelectionButton</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideClearSelectionButton</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_not_suppressNameFieldLink</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnFields</name>
                        <value>
                            <stringValue>Name, Quantity__c, Period__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnAlignments</name>
                        <value>
                            <stringValue>Name:left,Quantity__c:left,Period__c:left</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>8</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>First_Purchase_Confirmation</name>
        <label>First Purchase Confirmation</label>
        <locationX>1442</locationX>
        <locationY>357</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Assign_Opportunity</targetReference>
        </connector>
        <fields>
            <name>First_Purchase_Confirmation_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>First_Purchase_Confirmation_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>FP_confirmation</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Confirm Updates&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;{!Get_Opportunity.Account.Name} will have their subscription start on: &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;{!f_FirstPurchaseDate}&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;{!DiscountValidationText}&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;If the start date above is not the intended subscription start date, select &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Adjust Date below, enter the intended start date &lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;and click &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Next&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Otherwise just click &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Next&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; to process billing updates in Zuora.&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>First_Purchase_Confirmation_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>First_Purchase_Confirmation_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>fp_confirmation_buttons</name>
                    <extensionName>c:fsc_flowButtonBar</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>alignment</name>
                        <value>
                            <stringValue>left</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>orientation</name>
                        <value>
                            <stringValue>horizontal</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showLines</name>
                        <value>
                            <stringValue>neither</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>actionMode</name>
                        <value>
                            <stringValue>selection</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>buttons</name>
                        <value>
                            <stringValue>[{&quot;label&quot;:&quot;Adjust Date&quot;,&quot;value&quot;:&quot;Adjust&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:edit&quot;,&quot;index&quot;:0}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>Adjusted_Subscription_Start_Date</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>f_FirstPurchaseDate</elementReference>
                    </defaultValue>
                    <fieldText>Subscription Start Date</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>true</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>fp_confirmation_buttons.value</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>Adjust</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>4</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>First_Purchase_Confirmation_Section2_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>8</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>First_Purchase_Validation</name>
        <label>First Purchase Validation</label>
        <locationX>663</locationX>
        <locationY>255</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>First_Purchase_Validation_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>First_Purchase_Validation_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>validationHeader</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Please Update Product Picker and Try Again&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>main_fp_validation_display</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px; color: rgb(238, 7, 7);&quot;&gt;{!Product_Picker_Evaluation_Against_Subscription.varValidationMessage}&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>main_product_fp_mismatch</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <fields>
                    <name>add_on_validation_display</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(238, 7, 7); font-size: 14px;&quot;&gt;{!Product_Picker_Evaluation_Against_Subscription.varAddOnValidationMessage}&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>add_on_fp_mismatch</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <nextOrFinishButtonLabel>Next</nextOrFinishButtonLabel>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Issue_Alert</name>
        <label>Issue Alert</label>
        <locationX>289</locationX>
        <locationY>1064</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>issueDisplay</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Error&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;{!varIssue_AlertRep}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Reach out in &lt;/span&gt;&lt;a href=&quot;https://affinipay.slack.com/archives/C04TN10T493&quot; rel=&quot;noopener noreferrer&quot; target=&quot;_blank&quot; style=&quot;font-size: 14px;&quot;&gt;#help-sales-ops&lt;/a&gt; if needed.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Subscription_Adjust_In_Process</name>
        <label>Subscription Adjust In Process</label>
        <locationX>1874</locationX>
        <locationY>622</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>slackConfirmationDisplay</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;You will receive a Slack confirmation from Workbot when any of the following have been processed in Zuora that are applicable to your deal:&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Sales Approved or Company Promotion Discounts Applied&lt;/li&gt;&lt;li&gt;ABA or State Bar Discount Applied&lt;/li&gt;&lt;li&gt;Subscription Start Date Update Confirmation and Success or Failure of Card Change if Start Date is today&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;ï»¿&lt;/strong&gt;&lt;/li&gt;&lt;/ul&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Subscription_Summary</name>
        <label>Subscription Summary</label>
        <locationX>485</locationX>
        <locationY>428</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Opportunity_SKUs</targetReference>
        </connector>
        <fields>
            <name>txt_Heading_summary</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Update Subscription &amp;amp; Charge Firm&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Subscription_Summary_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Subscription_Summary_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>ro_SubscriptionStartDisplay</name>
                    <extensionName>c:ReadOnlyScreenComponent</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>value</name>
                        <value>
                            <elementReference>Get_Opportunity.Billing_Subscription__r.Subscription_Start_Date__c</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>label</name>
                        <value>
                            <stringValue>Current Subscription Start Date</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>4</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Subscription_Summary_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>CurrentSubscriptionDisplaySummary</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Billing_Subscription_Product_Charge__c</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>objectName</name>
                        <value>
                            <stringValue>Billing_Subscription_Product_Charge__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>Subscription_Charges</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideCheckboxColumn</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideCheckboxColumn</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_isRequired</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_singleRowSelection</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideHeaderActions</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideHeaderActions</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideClearSelectionButton</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideClearSelectionButton</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnFields</name>
                        <value>
                            <stringValue>Name, Quantity__c, Period__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_not_suppressNameFieldLink</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnAlignments</name>
                        <value>
                            <stringValue>Name:left,Quantity__c:left,Period__c:left</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_isDisplayHeader</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>8</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>Subscription_Summary_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Subscription_Summary_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>txt_Instructions_summary</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;Above is what the firm has subscribed to in app&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;, along with the quantity of users and the current &lt;/span&gt;&lt;strong style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;subscription start date&lt;/strong&gt;&lt;span style=&quot;font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;.&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;You do not have to action this flow&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;. It can only be used for the following without having to create a billing case:&lt;/span&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Change a firm from &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Monthly to Annual or Annual to Monthly on the same tier&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; they subscribed to.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Automatically &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;add discounts&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.&lt;/span&gt;&lt;/li&gt;&lt;li&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;Adjust the &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Subscription Start Date (First Purchase Date)&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; and charge the firm right now if adjusted to today&#39;s date&lt;/span&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b style=&quot;font-size: 14px;&quot;&gt;If&lt;/b&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt; &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;anything doesn&#39;t match between the Product Picker and the firm&#39;s Subscription you&#39;ll be alerted and brought back to this screen&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;.&lt;/span&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>Subscription_Summary_Section3</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Subscription_Summary_Section3_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>fp_options_selection_display</name>
                    <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;To modify the Start Date (FP Date), select &lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt;Update Start Date&lt;/strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;, enter the date and click&lt;/span&gt;&lt;strong style=&quot;font-size: 14px;&quot;&gt; Next.&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>selection_options</name>
                    <extensionName>c:fsc_flowButtonBar</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>alignment</name>
                        <value>
                            <stringValue>left</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>orientation</name>
                        <value>
                            <stringValue>horizontal</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showLines</name>
                        <value>
                            <stringValue>neither</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>actionMode</name>
                        <value>
                            <stringValue>selection</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>buttons</name>
                        <value>
                            <stringValue>[{&quot;label&quot;:&quot;Update Start Date&quot;,&quot;value&quot;:&quot;FP Date&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:date_input&quot;,&quot;index&quot;:0}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>Subscription_Start_Date</name>
                    <dataType>Date</dataType>
                    <defaultValue>
                        <elementReference>$Flow.CurrentDate</elementReference>
                    </defaultValue>
                    <fieldText>Subscription Start Date (FP Date)</fieldText>
                    <fieldType>InputField</fieldType>
                    <isRequired>true</isRequired>
                    <validationRule>
                        <errorMessage>&lt;p&gt;Start Date must be greater or equal to today&#39;s date&lt;/p&gt;</errorMessage>
                        <formulaExpression>{!Subscription_Start_Date} &gt;= {!$Flow.CurrentDate}</formulaExpression>
                    </validationRule>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>selection_options.value</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <stringValue>FP Date</stringValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Subscription_Summary_Section3_Column2</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>43</locationX>
        <locationY>34</locationY>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
    </start>
    <status>Active</status>
    <subflows>
        <name>First_Purchase_Flow</name>
        <label>First Purchase Flow</label>
        <locationX>1871</locationX>
        <locationY>477</locationY>
        <connector>
            <targetReference>Subscription_Adjust_In_Process</targetReference>
        </connector>
        <flowName>Integration_Queue_New_Integration_Queue_Subflow</flowName>
        <inputAssignments>
            <name>inputRecordId</name>
            <value>
                <elementReference>Get_Opportunity.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>ProcessName</name>
            <value>
                <stringValue>Zuora Automation</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>SubProcess</name>
            <value>
                <stringValue>MC First Purchase</stringValue>
            </value>
        </inputAssignments>
    </subflows>
    <subflows>
        <name>Product_Picker_Evaluation_Against_Subscription</name>
        <label>Product Picker Evaluation Against Subscription</label>
        <locationX>811</locationX>
        <locationY>526</locationY>
        <connector>
            <targetReference>Assign_Validation_Values</targetReference>
        </connector>
        <flowName>Autolaunched_MC_Opportunity_Subscribed_User_Count_Evaluation</flowName>
        <inputAssignments>
            <name>BillingSubscriptionId</name>
            <value>
                <elementReference>Get_Opportunity.Billing_Subscription__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>varOpportunityId</name>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <name>input_RecordTypeName</name>
            <value>
                <elementReference>Get_Opportunity.Record_Type_Name__c</elementReference>
            </value>
        </inputAssignments>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </subflows>
    <variables>
        <name>add_on_fp_mismatch</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>colOpportunitySKU</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_Available_MyCase_Promos</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>DiscountValidationText</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue>No Discounts Will Be Applied</stringValue>
        </value>
    </variables>
    <variables>
        <name>main_product_fp_mismatch</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>NewOppSKU_col</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>OppHasDiscounts</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <description>Display to user based on evaluation of SKUs and subscription</description>
        <name>SKU_Match_Alert</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>subscribed_quantity</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>Subscribed_RatePlan_ID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>Subscription_Match_Display</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBillingPeriodMatch</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varBillingPlanId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varFP_validation</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varHasAddAddOn</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varHasDiscounts</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>text variable to assign specific alert to rep</description>
        <name>varIssue_AlertRep</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varNewOppSKU</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>varOppHasAddOnSKU</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>Set to TRUE if opp has main SKU</description>
        <name>varOppHasMainSKU</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <description>record variable to update the opportunity</description>
        <name>varOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>true</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>varOppSKU_Quantity</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varOppSKU_ratePlanId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
