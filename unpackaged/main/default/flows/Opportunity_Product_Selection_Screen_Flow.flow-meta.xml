<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
    <actionCalls>
        <name>Open_Parent_Opportunity</name>
        <label>Open Parent Opportunity</label>
        <locationX>7801</locationX>
        <locationY>23870</locationY>
        <actionName>c:fsc_openUrl</actionName>
        <actionType>component</actionType>
        <flowTransactionModel>CurrentTransaction</flowTransactionModel>
        <inputParameters>
            <name>url</name>
            <value>
                <elementReference>fxParentOpportunityLink</elementReference>
            </value>
        </inputParameters>
        <nameSegment>c:fsc_openUrl</nameSegment>
        <storeOutputAutomatically>true</storeOutputAutomatically>
        <versionSegment>1</versionSegment>
    </actionCalls>
    <apiVersion>56.0</apiVersion>
    <assignments>
        <name>Add_Bundled_SKUs_to_Collection</name>
        <label>Add Bundled SKUs to Collection</label>
        <locationX>1942</locationX>
        <locationY>5804</locationY>
        <assignmentItems>
            <assignToReference>collDeletedSKUs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_Bundled_Opportunity_SKUs</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Delete_Opportunity_SKUs2</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Edited_Addon_Id_to_Collection</name>
        <label>Add Edited Addon Id to Collection</label>
        <locationX>5594</locationX>
        <locationY>9884</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Edited_Addons_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Edited_Addons_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Grandfathered_Add_Ons_to_Display_Collection</name>
        <label>Add Grandfathered Add Ons to Display Collection</label>
        <locationX>5991</locationX>
        <locationY>7568</locationY>
        <assignmentItems>
            <assignToReference>collDisplayProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_Grandfathered_Add_On_Products</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varNoAddons</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Add_On_Quantity_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Lost_Opportunity_to_Collection</name>
        <label>Add Lost Opportunity to Collection</label>
        <locationX>2206</locationX>
        <locationY>7892</locationY>
        <assignmentItems>
            <assignToReference>collOpportunitiesToBeUpdatedToLost</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varLostOpportunity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Opportunities_with_Deleted_SKUs_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Main_Product_to_Selected_Products_Collection2</name>
        <label>Add Main Product to Selected Products Collection</label>
        <locationX>8358</locationX>
        <locationY>10100</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtMainProducts.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtMainProducts.outputSelectedRow.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtMainProducts.outputSelectedRow.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtMainProducts.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varTier</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtMainProducts.outputSelectedRow.Product_Tier__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varPricingType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtMainProducts.outputSelectedRow.Pricing_Type__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Required_SKU_Product_Records</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Open_Open_Opportunity_Id_to_Collection</name>
        <label>Add Open Open Opportunity Id to Collection</label>
        <locationX>7913</locationX>
        <locationY>1172</locationY>
        <assignmentItems>
            <assignToReference>collOpenOpportunityIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Open_Opportunity_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Open_Opportunity_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Opportunity_SKU_Id_to_Collection</name>
        <label>Add Opportunity SKU Id to Collection</label>
        <locationX>11501</locationX>
        <locationY>5504</locationY>
        <assignmentItems>
            <assignToReference>collAllSkuProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Build_All_Opp_SKU_Id_Loop.SKU_Product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Build_All_Opp_SKU_Id_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Opportunity_SKU_Id_to_Deleted_Id_Collection</name>
        <label>Add Opportunity SKU Id to Deleted Id Collection</label>
        <locationX>1942</locationX>
        <locationY>6212</locationY>
        <assignmentItems>
            <assignToReference>collRemoveOpportunitySkuIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Find_Promos_for_Deleted_Opportunity_SKUs_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collOpportunityIdsWithDeletedSkus</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>Find_Promos_for_Deleted_Opportunity_SKUs_Loop.Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collOpportunityIdsWithDeletedSkus</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Find_Promos_for_Deleted_Opportunity_SKUs_Loop.Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_Promos_for_Deleted_Opportunity_SKUs_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Partnership_Discount_Promotion_to_Collection</name>
        <label>Add Partnership Discount Promotion to Collection</label>
        <locationX>10925</locationX>
        <locationY>8684</locationY>
        <assignmentItems>
            <assignToReference>collPromotionsOnPartnershipDiscount</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Partnership_Discounts_Loop.Promotion__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Partnership_Discounts_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Product_Sku_Promotion_Id_to_Collection</name>
        <label>Add Product Sku Promotion Id to Collection</label>
        <locationX>13480</locationX>
        <locationY>6344</locationY>
        <assignmentItems>
            <assignToReference>collExcludeProductSkuPromotionIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Existing_Opportunity_Promo_Id_Loop.Product_SKU_Promotion__r.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Existing_Opportunity_Promo_Id_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Promotion_Id_to_Collection</name>
        <label>Add Promotion Id to Collection</label>
        <locationX>11394</locationX>
        <locationY>7052</locationY>
        <assignmentItems>
            <assignToReference>collShortTermPromotionIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Create_Promotion_Id_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Promotion_Id_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Required_Products_to_Selected_Product_Collection</name>
        <label>Add Required Products to Selected Product Collection</label>
        <locationX>8428</locationX>
        <locationY>12566</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Required_Products_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Required_Products_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Required_Products_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Required_Products_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collRequiredProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Required_Products_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Required_Products_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Selected_Add_Ons_and_Services_to_Selected_Products_Collection</name>
        <label>Add Selected Add Ons and Services to Selected Products Collection</label>
        <locationX>5282</locationX>
        <locationY>9176</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtAddOnsAndServices.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Selected_Add_On_and_Service_Ids_to_Selected_Product_Id_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Selected_Lifetime_Promotion_to_Collection</name>
        <label>Add Selected Lifetime Promotion to Collection</label>
        <locationX>12890</locationX>
        <locationY>11660</locationY>
        <assignmentItems>
            <assignToReference>collSelectedPromotionSkus</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtLifetimePromotions2.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Short_Term_Promo_Type</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Selected_Product_to_Collection</name>
        <label>Add Selected Product to Collection</label>
        <locationX>5638</locationX>
        <locationY>10268</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Selected_Addons_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Selected_Addons_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Addons_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Selected_Products_to_Aggregate_Collections</name>
        <label>Add Selected Products to Aggregate Collections</label>
        <locationX>5240</locationX>
        <locationY>11186</locationY>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>collSelectedProductIds</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>collSelectedProducts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Selected_Promotion_SKUs_to_Collection</name>
        <label>Add Selected Promotion SKUs to Collection</label>
        <locationX>13088</locationX>
        <locationY>11960</locationY>
        <assignmentItems>
            <assignToReference>collSelectedPromotionSkus</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtCompanyPromos.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varIsShortTermCompanyPromo</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Promos_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Selected_Promotion_SKUs_to_Collection3</name>
        <label>Add Selected Promotion SKUs to Collection</label>
        <locationX>12560</locationX>
        <locationY>12176</locationY>
        <assignmentItems>
            <assignToReference>collSelectedPromotionSkus</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtSalesApprovedPromotions.outputEditedRows</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Promos_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_SKU</name>
        <label>Add SKU</label>
        <locationX>8021</locationX>
        <locationY>2996</locationY>
        <assignmentItems>
            <assignToReference>coll_Picked_Sku_Product_Ids</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Create_Already_Picked_Products_Collection_Loop.SKU_Product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Already_Picked_Products_Collection_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_SKU_Product_Id_to_Collection</name>
        <label>Add SKU Product Id to Collection</label>
        <locationX>8448</locationX>
        <locationY>11834</locationY>
        <assignmentItems>
            <assignToReference>collRequiredProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Build_Required_SKU_Product_Id_Collection_Loop.Required_SKU_Product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Build_Required_SKU_Product_Id_Collection_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_This_Opportunity_ID_to_Filter_Collection</name>
        <label>Add This Opportunity ID to Filter Collection</label>
        <locationX>8197</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>collOpenOpportunityIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Open_Opportunities_Exist</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Add_Variable_to_Collection</name>
        <label>Add Variable to Collection</label>
        <locationX>6365</locationX>
        <locationY>8060</locationY>
        <assignmentItems>
            <assignToReference>coll_Addons_With_Quantity</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>var_Temp_Sku_Product</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Add_On_Quantity_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>AddSelectedMainProducttoCollection</name>
        <label>Add Selected Main Product to Collection</label>
        <locationX>8802</locationX>
        <locationY>11258</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Selected_Main_Products_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Selected_Main_Products_Loop</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Main_Products_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Brand_Override_to_Brand_Collection</name>
        <label>Assign Brand Override to Brand Collection</label>
        <locationX>8021</locationX>
        <locationY>15668</locationY>
        <assignmentItems>
            <assignToReference>varSelectedBrands</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>Brand_Count_Loop.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedBrands</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Brand_Count_Loop.Opportunity_Record_Type_Override__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varBrandCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>varSelectedBrands</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAggregateBrandCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>varSelectedBrands</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAggregateBrands</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varSelectedBrands</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Brand_Count_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Brand_to_Brand_Collection</name>
        <label>Assign Brand to Brand Collection</label>
        <locationX>8285</locationX>
        <locationY>15668</locationY>
        <assignmentItems>
            <assignToReference>varSelectedBrands</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>Brand_Count_Loop.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedBrands</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Brand_Count_Loop.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varBrandCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>varSelectedBrands</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAggregateBrandCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>varSelectedBrands</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAggregateBrands</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varSelectedBrands</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Brand_Count_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Brand_to_Brand_Collection_2</name>
        <label>Assign Brand to Brand Collection 2</label>
        <locationX>8021</locationX>
        <locationY>16160</locationY>
        <assignmentItems>
            <assignToReference>varAggregateBrands</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>Open_Opportunity_SKU_Loop.SKU_Product__r.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAggregateBrands</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Open_Opportunity_SKU_Loop.SKU_Product__r.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varBrandCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>varAggregateBrands</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Open_Opportunity_SKU_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Bundle_Id_to_Collection</name>
        <label>Assign Bundle Id to Collection</label>
        <locationX>7889</locationX>
        <locationY>1988</locationY>
        <assignmentItems>
            <assignToReference>varHasBundles</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collBundleIds</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>Get_Bundle_Ids_Loop.Bundle_SKU_Product__r.Bundle__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collBundleIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_Bundle_Ids_Loop.Bundle_SKU_Product__r.Bundle__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varBundleCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>collBundleIds</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Bundle_Ids_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Contract_Id_to_Collection_0</name>
        <label>Assign Contract Id to Collection</label>
        <locationX>7889</locationX>
        <locationY>3812</locationY>
        <assignmentItems>
            <assignToReference>collSubscriptionContractIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Set_Contract_Id_Collection_0.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Contract_Id_Collection_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Contract_SKU_to_Collection_0</name>
        <label>Assign Contract SKU to Collection</label>
        <locationX>7825</locationX>
        <locationY>4436</locationY>
        <assignmentItems>
            <assignToReference>collMainProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Contract_SKUs_Assignment_Loop_0.SKU_Product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_SKU_Product_Grandfathered</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Create_Brand_Opportunity_to_faultObject</name>
        <label>Assign Create Brand Opportunity to faultObject</label>
        <locationX>8351</locationX>
        <locationY>18830</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Create Brand Opportunity</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Create_Opportunity_Promos_to_faultObject</name>
        <label>Assign Create Opportunity Promos to faultObject</label>
        <locationX>7933</locationX>
        <locationY>23480</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Create Opportunity Promos</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Create_Opportunity_Promos_to_faultObject2</name>
        <label>Assign Create Opportunity Promos to faultObject</label>
        <locationX>13528</locationX>
        <locationY>14576</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Create Opportunity Promos</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Create_Opportunity_SKU_Records_to_faultObject</name>
        <label>Assign Create Opportunity SKU Records to faultObject</label>
        <locationX>16080</locationX>
        <locationY>21656</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Create Opportunity SKU Records</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Create_Parent_Opportunity_to_faultObject</name>
        <label>Assign Create Parent Opportunity to faultObject</label>
        <locationX>7669</locationX>
        <locationY>17000</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Create Parent Opportunity</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Delete_Opportunity_Promos_to_faultObject</name>
        <label>Assign Delete Opportunity Promos to faultObject</label>
        <locationX>1810</locationX>
        <locationY>13862</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Delete Opportunity Promos</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Delete_Opportunity_SKUs_to_faultObject</name>
        <label>Assign Delete Opportunity SKUs to faultObject</label>
        <locationX>1854</locationX>
        <locationY>9764</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Delete Opportunity SKUs</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Delete_Related_Opportunity_Promos_to_faultObject</name>
        <label>Assign Delete Related Opportunity Promos to faultObject</label>
        <locationX>1854</locationX>
        <locationY>9266</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Delete Related Opportunity Promos</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Deleted_SKUs_to_Collection</name>
        <label>Assign Deleted SKUs to Collection</label>
        <locationX>1942</locationX>
        <locationY>5504</locationY>
        <assignmentItems>
            <assignToReference>collDeletedSKUs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtOpportunitySkus.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Bundle_Selected_for_Removal</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Edited_Product_Ids_to_Collections</name>
        <label>Assign Edited Product Ids to Collections</label>
        <locationX>8758</locationX>
        <locationY>10874</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Edited_Main_Products_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Edited_Main_Products_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varTier</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Edited_Main_Products_Loop.Product_Tier__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varPricingType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Edited_Main_Products_Loop.Pricing_Type__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Edited_Main_Products_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Filtered_Add_Ons_and_Services_to_Collection</name>
        <label>Assign Filtered Add Ons and Services to Collection</label>
        <locationX>8228</locationX>
        <locationY>13142</locationY>
        <assignmentItems>
            <assignToReference>collDisplayProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collDisplayProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_Add_Ons_and_Services_for_Main_Product</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAddOnCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>collDisplayProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Sort_Display_Products_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Filtered_Main_Products_to_Filtered_Collection</name>
        <label>Assign Filtered Main Products to Filtered Collection</label>
        <locationX>7042</locationX>
        <locationY>9884</locationY>
        <assignmentItems>
            <assignToReference>collFilteredMainProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Filter_Main_Product_Collection_by_Selected_Brand</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedBrand</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Brand</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_No_Brand_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_No_Pricing_Type_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Grandfathered</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Get_Bundled_Opportunity_SKUs_to_faultObject</name>
        <label>Assign Get Bundled Opportunity SKUs to faultObject</label>
        <locationX>16608</locationX>
        <locationY>1664</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Get Bundled Opportunity SKUs</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Get_Open_Child_Opportunities_to_faultObject</name>
        <label>Assign Get Open Child Opportunities to faultObject</label>
        <locationX>7933</locationX>
        <locationY>674</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Get Open Child Opportunities</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Get_Opportunity_Promos_to_faultObject</name>
        <label>Assign Get Opportunity Promos to faultObject</label>
        <locationX>16344</locationX>
        <locationY>1772</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Get Opportunity Promos</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Get_Opportunity_SKUs_to_faultObject</name>
        <label>Assign Get Opportunity SKUs to faultObject</label>
        <locationX>16872</locationX>
        <locationY>1556</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Get Opportunity SKUs</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Get_This_Opportunity_to_faultOjbect</name>
        <label>Assign Get This Opportunity to faultOjbect</label>
        <locationX>17136</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Get This Opportunity</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Grandfathered_Attributes_to_Collections</name>
        <label>Assign Grandfathered Attributes to Collections</label>
        <locationX>7825</locationX>
        <locationY>4736</locationY>
        <assignmentItems>
            <assignToReference>collGrandfatheredBrands</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Contract_SKUs_Assignment_Loop_0.SKU_Product__r.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varIsGrandfathered</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Contract_SKUs_Assignment_Loop_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Grandfathered_Main_Products_to_Collection</name>
        <label>Assign Grandfathered Main Products to Collection</label>
        <locationX>6756</locationX>
        <locationY>10316</locationY>
        <assignmentItems>
            <assignToReference>collFilteredMainProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_Grandfathered_Main_Products</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Quantity_on_Filtered_Products_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Lifetime_Promotion_Id_to_Collection</name>
        <label>Assign Lifetime Promotion Id to Collection</label>
        <locationX>10925</locationX>
        <locationY>9092</locationY>
        <assignmentItems>
            <assignToReference>collLifetimePromotionIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Lifetime_Promotion_Id_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Lifetime_Promotion_Id_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Main_Product_Count_to_Variable</name>
        <label>Assign Main Product Count to Variable</label>
        <locationX>7042</locationX>
        <locationY>11000</locationY>
        <assignmentItems>
            <assignToReference>varMainProductCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>collFilteredMainProducts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Are_Main_Products_Available</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Main_Product_Id_to_Collection</name>
        <label>Assign Main Product Id to Collection</label>
        <locationX>6296</locationX>
        <locationY>5828</locationY>
        <assignmentItems>
            <assignToReference>collMainProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Assign_Main_Product_Loop.SKU_Product__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Main_Product_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Non_Partnership_Lifetime_Product_Sku_Promotion_to_Display_Collection</name>
        <label>Assign Non-Partnership Lifetime Product Sku Promotion to Display Collection</label>
        <locationX>11118</locationX>
        <locationY>10976</locationY>
        <assignmentItems>
            <assignToReference>collLifetimeProductSkuPromosForSelection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Add_Non_Partnership_Lifetime_Product_Sku_Promos_to_Display_Collection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varNoLifetimePromotionsFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Non_Partnership_Lifetime_Product_Sku_Promos_to_Display_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Non_Partnership_Lifetime_Promo_to_Collection</name>
        <label>Assign Non-Partnership Lifetime Promo to Collection</label>
        <locationX>11118</locationX>
        <locationY>10376</locationY>
        <assignmentItems>
            <assignToReference>collNonPartnershipLifetimePromos</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Non_Parntership_Lifetime_Promos_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Non_Parntership_Lifetime_Promos_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_Promo_Data_to_Variables</name>
        <label>Assign Opportunity Promo Data to Variables</label>
        <locationX>1898</locationX>
        <locationY>10454</locationY>
        <assignmentItems>
            <assignToReference>collOpportunitySKUsRemovePromos</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Remove_Promo_Loop.Opportunity_SKU__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedOpportunityPromoIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Remove_Promo_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varShortTermPromosToRemove</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Remove_Promo_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_Promo_Data_to_Variables2</name>
        <label>Assign Opportunity Promo Data to Variables</label>
        <locationX>2162</locationX>
        <locationY>10454</locationY>
        <assignmentItems>
            <assignToReference>collLifetimeOppSkusToRemovePromo</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Remove_Promo_Loop.Opportunity_SKU__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedOpportunityPromoIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Remove_Promo_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varLifetimePromosToRemove</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Remove_Promo_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_Sku_To_Update_Variable_to_Collection</name>
        <label>Assign Opportunity Sku To Update Variable to Collection</label>
        <locationX>7889</locationX>
        <locationY>22088</locationY>
        <assignmentItems>
            <assignToReference>collOpportunitySkusToUpdate</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySkuToUpdate</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Update_Opportunity_SKUs_to_Parent_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_SKU_to_Variable</name>
        <label>Assign Opportunity SKU to Variable</label>
        <locationX>2426</locationX>
        <locationY>11378</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Strip_Promo_from_Opportunity_SKU_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Short_Term_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Short_Term_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Promotional_Discount_Duration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Total_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collOpportunitySKUsRemoveShortTermPromos</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Promos_for_Removal_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_SKU_to_Variable2</name>
        <label>Assign Opportunity SKU to Variable</label>
        <locationX>1648</locationX>
        <locationY>12338</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Strip_Promo_from_Lifetime_Opportunity_Sku_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collOpportunitySKUsForPromoRemoval</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Total_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Strip_Promo_from_Lifetime_Opportunity_Sku_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_SKU_to_Variable_2</name>
        <label>Assign Opportunity SKU to Variable</label>
        <locationX>7889</locationX>
        <locationY>21980</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySkuToUpdate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Update_Opportunity_SKUs_to_Parent_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySkuToUpdate.Parent_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varParentOpportunityId</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Opportunity_Sku_To_Update_Variable_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_SKU_to_Variable_Lifetime</name>
        <label>Assign Opportunity SKU to Variable - Lifetime</label>
        <locationX>2690</locationX>
        <locationY>11378</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Strip_Promo_from_Opportunity_SKU_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Total_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collOpportunitySKUsForPromoRemoval</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Promos_for_Removal_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Opportunity_SKU_Variable_to_Collection</name>
        <label>Assign Opportunity SKU Variable to Collection</label>
        <locationX>8725</locationX>
        <locationY>20120</locationY>
        <assignmentItems>
            <assignToReference>collOpportunitySKUs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Product_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Partnership_Lifetime_Promo_to_Display_Collection</name>
        <label>Assign Partnership Lifetime Promo to Display Collection</label>
        <locationX>10817</locationX>
        <locationY>9608</locationY>
        <assignmentItems>
            <assignToReference>collLifetimeProductSkuPromosForSelection</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Lifetime_Partnership_Promos_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varNoLifetimePromotionsFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Lifetime_Partnership_Promos_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Product_Id_to_Collection</name>
        <label>Assign Product Id to Collection</label>
        <locationX>5370</locationX>
        <locationY>9392</locationY>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Add_Selected_Add_On_and_Service_Ids_to_Selected_Product_Id_Collection.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Selected_Add_On_and_Service_Ids_to_Selected_Product_Id_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Product_Sku_Promotion_to_Variable</name>
        <label>Assign Product Sku Promotion to Variable</label>
        <locationX>11286</locationX>
        <locationY>7568</locationY>
        <assignmentItems>
            <assignToReference>varProductSkuPromotion</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Short_Term_Promot</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varProductSkuPromotion.SKU_Product_Specific_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxShortTermDiscount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varProductSkuPromotion.SKU_Product_Specific_Duration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>fxShortTermDuration</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collShortTermPromotions</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varProductSkuPromotion</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Short_Term_Promot</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_SKU_Product_Id_to_Collection</name>
        <label>Assign SKU Product Id to Collection</label>
        <locationX>3306</locationX>
        <locationY>6152</locationY>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProductIds</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Bundle_SKU_Product_Ids_to_Collection_Loop.SKU_Product__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedBrands</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>Bundle_SKU_Product_Ids_to_Collection_Loop.SKU_Product__r.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedBrands</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Bundle_SKU_Product_Ids_to_Collection_Loop.SKU_Product__r.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Bundle_SKU_Product_Ids_to_Collection_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_SKU_Product_to_Aggregate_Collection</name>
        <label>Assign SKU Product to Aggregate Collection</label>
        <locationX>14980</locationX>
        <locationY>6560</locationY>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtMainProductsForChangeTier.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_SKU_Products_to_Collection</name>
        <label>Assign SKU Products to Collection</label>
        <locationX>3218</locationX>
        <locationY>6452</locationY>
        <assignmentItems>
            <assignToReference>collAggregateSelectedProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_SKU_Products</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varBundleSelection</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_This_Opportunity_to_a_Colleciton</name>
        <label>Assign This Opportunity to a Colleciton</label>
        <locationX>7933</locationX>
        <locationY>242</locationY>
        <assignmentItems>
            <assignToReference>collThisOpportunity</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Get_This_Opportunity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Parent_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Update_Opportunities_to_Lost_to_faultObject</name>
        <label>Assign Update Opportunities to Lost to faultObject</label>
        <locationX>1854</locationX>
        <locationY>8660</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Update Opportunities to Lost</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Update_Opportunity_SKUs_to_faultObject</name>
        <label>Assign Update Opportunity SKUs to faultObject</label>
        <locationX>1810</locationX>
        <locationY>13214</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Update Opportunity SKUs</stringValue>
            </value>
        </assignmentItems>
    </assignments>
    <assignments>
        <name>Assign_Update_Opportunity_SKUs_with_Promo_Details_to_faultObject</name>
        <label>Assign Update Opportunity SKUs with Promo Details to faultObject</label>
        <locationX>13792</locationX>
        <locationY>14360</locationY>
        <assignmentItems>
            <assignToReference>faultObject</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Update Opportunity SKUs with Promo Details</stringValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Fault_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Assign_Variables_to_Collections</name>
        <label>Assign Variables to Collections</label>
        <locationX>15002</locationX>
        <locationY>13724</locationY>
        <assignmentItems>
            <assignToReference>collOpportunityPromo</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunityPromo</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collOpportunitySKUs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SKU_Product_Promo_Match_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_Add_Selected_Promotion_SKUs_to_Collection2</name>
        <label>Add Selected Promotion SKUs to Collection</label>
        <locationX>12824</locationX>
        <locationY>12176</locationY>
        <assignmentItems>
            <assignToReference>collSelectedPromotionSkus</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>dtSalesApprovedPromotions.outputSelectedRows</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Selected_Promos_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Copy_1_of_Assign_Variables_to_Collections</name>
        <label>Copy 1 of Assign Variables to Collections</label>
        <locationX>15530</locationX>
        <locationY>13724</locationY>
        <assignmentItems>
            <assignToReference>collOpportunityPromo</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunityPromo</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collLifetimeOpportunitySkus</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>SKU_Product_Promo_Match_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Get_Deleted_SKU_Count</name>
        <label>Get Deleted SKU Count</label>
        <locationX>1854</locationX>
        <locationY>8336</locationY>
        <assignmentItems>
            <assignToReference>varDeletedSkuCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>collRemoveOpportunitySkuIds</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Are_Opportunities_Lost</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>No_Main_Product_Selected_Variable_Assigment</name>
        <label>No Main Product Selected Variable Assigment</label>
        <locationX>5727</locationX>
        <locationY>6620</locationY>
        <assignmentItems>
            <assignToReference>var_No_Main_Product_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Main_Product_Selection_for_Add_On_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Remove_Opportunity_SKUs_from_Being_Deleted</name>
        <label>Remove Opportunity SKUs from Being Deleted</label>
        <locationX>2162</locationX>
        <locationY>7376</locationY>
        <assignmentItems>
            <assignToReference>collRemoveOpportunitySkuIds</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>Remove_Deleted_Opportunity_SKUs_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Remove_Deleted_Opportunity_SKUs_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Addon_Is_Edited_Variable</name>
        <label>Reset Addon Is Edited Variable</label>
        <locationX>5374</locationX>
        <locationY>10268</locationY>
        <assignmentItems>
            <assignToReference>var_Addon_Is_Edited</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Addons_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Duration_Validation_Variables2</name>
        <label>Reset Duration Validation Variables</label>
        <locationX>12692</locationX>
        <locationY>11960</locationY>
        <assignmentItems>
            <assignToReference>varSelectedPromo</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varDurationLocked</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varDurationMaxExceeded</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varDiscountMaxExceeded</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Are_Promotions_Edited</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Filtered_Main_Product_Collection</name>
        <label>Reset Filtered Main Product Collection</label>
        <locationX>7042</locationX>
        <locationY>10892</locationY>
        <assignmentItems>
            <assignToReference>collFilteredMainProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collFilteredMainProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collTempSkuProducts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Main_Product_Count_to_Variable</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Main_Product_is_Edited_Variable</name>
        <label>Reset Main Product is Edited Variable</label>
        <locationX>8538</locationX>
        <locationY>11258</locationY>
        <assignmentItems>
            <assignToReference>var_Main_Product_Is_Edited</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Selected_Main_Products_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Opportunity_SKU_Variable</name>
        <label>Reset Opportunity SKU Variable</label>
        <locationX>9165</locationX>
        <locationY>16676</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varEmptyOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Single_Brand_Set_Opportunity_SKU_Variable</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Promo_Variables</name>
        <label>Reset Promo Variables</label>
        <locationX>11413</locationX>
        <locationY>5696</locationY>
        <assignmentItems>
            <assignToReference>varNoLifetimePromotionsFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varNoShortTermDiscountsFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collPromotionIds</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyTextCollection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collLifetimeProductSkuPromosForSelection</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>collLifetimeProductSkuPromosForSelection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collShortTermPromotions</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>collShortTermPromotions</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collShortTermPromotionIds</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyTextCollection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collLifetimePromotionIds</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyTextCollection</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Select_Discount_Type_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Validation_Variables</name>
        <label>Reset Validation Variables</label>
        <locationX>5240</locationX>
        <locationY>8852</locationY>
        <assignmentItems>
            <assignToReference>varQuantityLocked</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varAddOnExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyTextCollection</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>dec_Is_Addon_Edited</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Reset_Variables</name>
        <label>Reset Variables</label>
        <locationX>50</locationX>
        <locationY>5504</locationY>
        <assignmentItems>
            <assignToReference>collFilteredProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collFilteredProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collAllProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedBrand</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSelectedProductIds</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyTextCollection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collSkuProductPromotions</assignToReference>
            <operator>RemoveAll</operator>
            <value>
                <elementReference>collSkuProductPromotions</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>dtMainProducts.outputSelectedRows</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>dtAddOnsAndServices.outputSelectedRows</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Brand_Selection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Rest_Opportunity_SKU_Variable</name>
        <label>Reset Opportunity SKU Variable</label>
        <locationX>8857</locationX>
        <locationY>19304</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku</assignToReference>
            <operator>Assign</operator>
        </assignmentItems>
        <connector>
            <targetReference>Product_Match_Brand</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Sales_Approved_Promo_Selected</name>
        <label>Sales_Approved_Promo_Selected</label>
        <locationX>11570</locationX>
        <locationY>7952</locationY>
        <assignmentItems>
            <assignToReference>var_Sales_Approved_Promo_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varNoShortTermDiscountsFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Lifetime_Selected</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Add_On_Exists_Variable</name>
        <label>Set Add On Exists Variable</label>
        <locationX>5328</locationX>
        <locationY>10844</locationY>
        <assignmentItems>
            <assignToReference>varAddOnExists</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Add_Ons_and_Services</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Add_On_Filtering_Variables</name>
        <label>Set Add On Filtering Variables</label>
        <locationX>6277</locationX>
        <locationY>6620</locationY>
        <assignmentItems>
            <assignToReference>varSelectedBrand</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtMainProductsForAddAddOn.outputSelectedRow.Product_Sub_Family__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varTier</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtMainProductsForAddAddOn.outputSelectedRow.Product_Tier__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varPricingType</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtMainProductsForAddAddOn.outputSelectedRow.Pricing_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_No_Main_Product_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Add_On_Products</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Brand_Exists_on_Opportunity_Variable</name>
        <label>Set Brand Exists on Opportunity Variable</label>
        <locationX>7306</locationX>
        <locationY>9500</locationY>
        <assignmentItems>
            <assignToReference>varBrandExistsOnOpportunity</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_if_Opportunity_Already_Has_Brand_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Brand_Variable</name>
        <label>Set Brand Variable</label>
        <locationX>8285</locationX>
        <locationY>17408</locationY>
        <assignmentItems>
            <assignToReference>varBrand</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Brand_Loop</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Current_Opportunity_Brand</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Change_Tier_Variable</name>
        <label>Set Change Tier Variable</label>
        <locationX>15343</locationX>
        <locationY>5396</locationY>
        <assignmentItems>
            <assignToReference>varChangeTier</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Main_Products</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Company_Promo_Variable</name>
        <label>Set Company Promo Variable</label>
        <locationX>11042</locationX>
        <locationY>7952</locationY>
        <assignmentItems>
            <assignToReference>var_Company_Promo_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varNoShortTermDiscountsFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Lifetime_Selected</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Contract_SKU_Variable</name>
        <label>Set Contract SKU Variable</label>
        <locationX>14848</locationX>
        <locationY>6368</locationY>
        <assignmentItems>
            <assignToReference>varChangedContractSku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Contract_SKU</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_SKU_Product_to_Aggregate_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Discount_Limit_Exceeded_Variable</name>
        <label>Set Discount Limit Exceeded Variable</label>
        <locationX>14870</locationX>
        <locationY>12842</locationY>
        <assignmentItems>
            <assignToReference>varDiscountMaxExceeded</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedPromo</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Name</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varMaxDiscount</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Max__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Select_Promotion_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Discount_Locked_Variable</name>
        <label>Set Discount Locked Variable</label>
        <locationX>14606</locationX>
        <locationY>12734</locationY>
        <assignmentItems>
            <assignToReference>varDiscountLocked</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Select_Promotion_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Collection</name>
        <label>Set Display Collection</label>
        <locationX>6277</locationX>
        <locationY>8252</locationY>
        <assignmentItems>
            <assignToReference>collDisplayProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyProducts</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collDisplayProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>coll_Addons_With_Quantity</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sort_Display_Products_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Products_Collection</name>
        <label>Set Display Products Collection</label>
        <locationX>6145</locationX>
        <locationY>7052</locationY>
        <assignmentItems>
            <assignToReference>collDisplayProducts</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Add_On_Products</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Grandfathered1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Display_Products_Collection2</name>
        <label>Set Display Products Collection</label>
        <locationX>6673</locationX>
        <locationY>6404</locationY>
        <assignmentItems>
            <assignToReference>varNoMainProductsValidation</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Ons_and_Services</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Duration_Locked_Variable2</name>
        <label>Set Duration Locked Variable</label>
        <locationX>14342</locationX>
        <locationY>12734</locationY>
        <assignmentItems>
            <assignToReference>varDurationLocked</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedPromo</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Promo_Name__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Select_Promotion_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Duration_Override_Validation_Variable_to_True</name>
        <label>Set Duration Override Validation Variable to True</label>
        <locationX>15310</locationX>
        <locationY>12734</locationY>
        <assignmentItems>
            <assignToReference>varDurationMaxExceeded</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSelectedPromo</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Promo_Name__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varMaxDuration</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Duration_Max__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Select_Promotion_Screen</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_HasPromos_Variable</name>
        <label>Set HasPromos Variable</label>
        <locationX>7801</locationX>
        <locationY>3296</locationY>
        <assignmentItems>
            <assignToReference>varHasPromos</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Contract_Subscriptions_0</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_HasUnbundledSKUs_Variable</name>
        <label>Set HasUnbundledSKUs Variable</label>
        <locationX>7801</locationX>
        <locationY>2480</locationY>
        <assignmentItems>
            <assignToReference>varHasUnbundledSKUs</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collUnbundledSkus</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity_SKUs</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySkuCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>collUnbundledSkus</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Sort_Opportunity_SKUs_by_Name</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Lost_Opportunity_Variable</name>
        <label>Set Lost Opportunity Variable</label>
        <locationX>2206</locationX>
        <locationY>7784</locationY>
        <assignmentItems>
            <assignToReference>varLostOpportunity.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunities_with_Deleted_SKUs_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varLostOpportunity.Loss_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>plLoss_Reason2</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varLostOpportunity.Additional_Loss_Details__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Explanation</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varLostOpportunity.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Closed Lost</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varLostOpportunity.Lost_To__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>plLost_To</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varLostOpportunity.Loss_Due_to_Feature__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>mspl_LostDueToFeature</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Lost_Opportunity_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_No_Add_Ons_Found_Variable</name>
        <label>Set No Add-Ons Found Variable</label>
        <locationX>6409</locationX>
        <locationY>7052</locationY>
        <assignmentItems>
            <assignToReference>varNoAddons</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Grandfathered1</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_No_Brand_Selected_Variable</name>
        <label>Set No Brand Selected Variable</label>
        <locationX>5986</locationX>
        <locationY>9284</locationY>
        <assignmentItems>
            <assignToReference>var_No_Brand_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Brand_Selection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_No_Main_Product_Selected_Variable</name>
        <label>Set No Main Product Selected Variable</label>
        <locationX>8798</locationX>
        <locationY>9176</locationY>
        <assignmentItems>
            <assignToReference>var_No_Main_Product_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Main_Product_Selection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_No_Pricing_Type_Variable</name>
        <label>Set No Pricing Type Variable</label>
        <locationX>6250</locationX>
        <locationY>9284</locationY>
        <assignmentItems>
            <assignToReference>var_No_Pricing_Type_Selected</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Brand_Selection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_no_Short_Term_Discounts_Found_Variable_to_True</name>
        <label>Set no Short Term Discounts Found Variable to True</label>
        <locationX>11306</locationX>
        <locationY>7952</locationY>
        <assignmentItems>
            <assignToReference>varNoShortTermDiscountsFound</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Is_Lifetime_Selected</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opp_Id_Variable</name>
        <label>Set Opp Id Variable</label>
        <locationX>7669</locationX>
        <locationY>18056</locationY>
        <assignmentItems>
            <assignToReference>varNewOpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtOpenOpportunities.outputSelectedRow.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>dtOpenOpportunities.outputSelectedRow.Related_Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Product_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opp_Id_Variable2</name>
        <label>Set Opp Id Variable</label>
        <locationX>7823</locationX>
        <locationY>18614</locationY>
        <assignmentItems>
            <assignToReference>varNewOpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Open_Child_Opportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Product_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_Id_Variable_to_This_Opportunity</name>
        <label>Set Opportunity Id Variable to This Opportunity</label>
        <locationX>8615</locationX>
        <locationY>17624</locationY>
        <assignmentItems>
            <assignToReference>varNewOpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Product_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_Promo_Variable</name>
        <label>Set Opportunity Promo Variable</label>
        <locationX>8373</locationX>
        <locationY>23072</locationY>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.CurrencyIsoCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_Opportunity_Promos_Loop.CurrencyIsoCode</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Opportunity_Promos_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_SKU_Updates_Lifetime</name>
        <label>Set Opportunity SKU Updates - Lifetime</label>
        <locationX>15530</locationX>
        <locationY>13616</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Discount_Percentage__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Promotional_Discount_Duration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Discount_Duration__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop.Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Parent_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop.Parent_Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Opportunity_SKU__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Product_SKU_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Discount_Percentage__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Discount_Duration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Discount_Duration__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Total_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Promotion_Discount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Discount_Value_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Value_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Discount_Qty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Qty_Default__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Copy_1_of_Assign_Variables_to_Collections</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_SKU_Updates_Short_Term</name>
        <label>Set Opportunity SKU Updates - Short-Term</label>
        <locationX>15002</locationX>
        <locationY>13616</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Short_Term_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Short_Term_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.SKU_Product_Specific_Discount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Promotional_Discount_Duration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.SKU_Product_Specific_Duration__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop.Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Parent_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop.Parent_Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Opportunity_SKU__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>SKU_Product_Promo_Match_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Product_SKU_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.SKU_Product_Specific_Discount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Discount_Duration__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.SKU_Product_Specific_Duration__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Total_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Promotion_Discount__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Discount_Value_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Value_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Discount_Qty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Qty_Default__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Assign_Variables_to_Collections</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Opportunity_SKU_Variable</name>
        <label>Set Opportunity SKU Variable</label>
        <locationX>8725</locationX>
        <locationY>19520</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varNewOpportunityId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Parent_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varParentOpportunityId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.SKU_Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Price_Base__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Loop.Price_Base__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Product_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Loop.Product_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Qty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Loop.Quantity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Billing_Plan__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Loop.Billing_Plan__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Is_Tier_Change__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varChangeTier</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Changed_Contract_SKU__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varChangedContractSku.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity_SKU_Standard_Record_Type.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.CurrencyIsoCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Product_Loop.CurrencyIsoCode</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_Promotion_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Parent_Opportunity_Id_Variable_2</name>
        <label>Set Parent Opportunity Id Variable</label>
        <locationX>7405</locationX>
        <locationY>17108</locationY>
        <assignmentItems>
            <assignToReference>varParentOpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varParentOpportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Brand_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Parent_Opportunity_Variable</name>
        <label>Set Parent Opportunity Variable</label>
        <locationX>6877</locationX>
        <locationY>16676</locationY>
        <assignmentItems>
            <assignToReference>varParentOpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Related_Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Brand_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Parent_Opportunity_Variable_2</name>
        <label>Set Parent Opportunity Variable</label>
        <locationX>7405</locationX>
        <locationY>16784</locationY>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Id</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>null</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Parent_Opportunity_Record_Type.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Accepts_Online_Payments__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Accepts_Online_Payments__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.AccountId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.AccountId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.CloseDate</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.CloseDate</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Current_Accounting_Solution__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Current_Accounting_Solution__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Current_Accounting_Solution_Other__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Current_Accounting_Solution_Other__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Current_LPM__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Current_LPM__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Current_LPM_Other__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Current_LPM_Other__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Current_Payments_Solution__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Current_Payments_Solution__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Current_Payments_Solution_Other__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Current_Payments_Solution_Other__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Decision_Process__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Decision_Process__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Obstacles__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Obstacles__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.OwnerId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.OwnerId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Primary_Contact__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Primary_Contact__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Primary_Practice_Area__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Primary_Practice_Area__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Qualification_Notes__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Qualification_Notes__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Secondary_Practice_Areas__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Secondary_Practice_Areas__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.StageName</assignToReference>
            <operator>Assign</operator>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Top_Priority_Pain__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Top_Priority_Pain__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Type</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Type</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Value_Driver__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Value_Driver__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Number_of_Employees__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Number_of_Employees__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varNewParentOpportunityCreated</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Outbound_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Outbound_Reason__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Sales_Lead_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Sales_Lead_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Sales_Lead_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Sales_Lead_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Outbound_Reason__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Outbound_Reason__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Last_MQL_Type_Before_Opportunity_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Last_MQL_Type_Before_Opportunity_Create__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varParentOpportunity.Last_MQL_Date_Before_Opportunity_Create__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Last_MQL_Date_Before_Opportunity_Create__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Parent_Opportunity</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Parent_Opportunity_Variable_to_this_Opportunity</name>
        <label>Set Parent Opportunity Variable to this Opportunity</label>
        <locationX>7141</locationX>
        <locationY>16676</locationY>
        <assignmentItems>
            <assignToReference>varParentOpportunityId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Brand_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Parent_Variable</name>
        <label>Set Parent Variable</label>
        <locationX>7669</locationX>
        <locationY>458</locationY>
        <assignmentItems>
            <assignToReference>varThisOppIsParent</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Get_Open_Child_Opportunities</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Promotion_on_Opportunity_SKU_Variable</name>
        <label>Set Promotion on Opportunity SKU Variable</label>
        <locationX>8813</locationX>
        <locationY>19844</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Find_Promotion_Loop.Promotion__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Short_Term_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Find_Promotion_Loop.Discount_Percentage__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Find_Promotion_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Quantity_Locked_Variable</name>
        <label>Set Quantity Locked Variable</label>
        <locationX>5154</locationX>
        <locationY>9284</locationY>
        <assignmentItems>
            <assignToReference>varQuantityLocked</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Check_for_Quantity_Lock_on_Edited_Addon_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Quantity_Locked_Variable_MainProduct</name>
        <label>Set Quantity Locked Variable</label>
        <locationX>8318</locationX>
        <locationY>10208</locationY>
        <assignmentItems>
            <assignToReference>varQuantityLocked</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Main_Product_Selection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Quantity_on_Loop_Item</name>
        <label>Set Quantity on Loop Item</label>
        <locationX>7130</locationX>
        <locationY>10700</locationY>
        <assignmentItems>
            <assignToReference>varSkuProduct</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Set_Quantity_on_Filtered_Products_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varSkuProduct.Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collTempSkuProducts</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varSkuProduct</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Set_Quantity_on_Filtered_Products_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Quantity_to_1</name>
        <label>Set Quantity to 1</label>
        <locationX>6365</locationX>
        <locationY>7952</locationY>
        <assignmentItems>
            <assignToReference>var_Temp_Sku_Product</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Update_Add_On_Quantity_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_Temp_Sku_Product.Quantity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <numberValue>1.0</numberValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Add_Variable_to_Collection</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Remaining_Opportunity_Promo_Fields</name>
        <label>Set Remaining Opportunity Promo Fields</label>
        <locationX>8461</locationX>
        <locationY>22796</locationY>
        <assignmentItems>
            <assignToReference>varOpportunityPromo</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Opportunity_Promos_Loop</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_Opportunity_Promos_Loop.Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Parent_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_Opportunity_Promos_Loop.Parent_Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunityPromo.Opportunity_SKU__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Create_Opportunity_Promos_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collFinalOpportunityPromos</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunityPromo</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Opportunity_Promos_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_SKU_Count_Variables</name>
        <label>Set SKU Count Variables</label>
        <locationX>2459</locationX>
        <locationY>6728</locationY>
        <assignmentItems>
            <assignToReference>varAllOpportunitySkuCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>collOpportunitySKUsForTotalCount</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySkusBeingDeletedCount</assignToReference>
            <operator>AssignCount</operator>
            <value>
                <elementReference>collOpportunitySkusBeingDeleted</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Are_All</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Set_Variables</name>
        <label>Set Variables</label>
        <locationX>8360</locationX>
        <locationY>9776</locationY>
        <assignmentItems>
            <assignToReference>collRequiredProductIds</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collEmptyTextCollection</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>var_From_Main_Product_Path</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varQuantityLocked</assignToReference>
            <operator>Assign</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Products_Edited</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Single_Brand_Assign_Opportunity_SKU_Variable_to_Collection</name>
        <label>Single Brand Assign Opportunity SKU Variable to Collection</label>
        <locationX>9165</locationX>
        <locationY>17384</locationY>
        <assignmentItems>
            <assignToReference>collOpportunitySKUs</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>varOpportunitySku</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Single_Brand_Product_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Single_Brand_Set_Opportunity_SKU_Variable</name>
        <label>Single Brand Set Opportunity SKU Variable</label>
        <locationX>9165</locationX>
        <locationY>16784</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.SKU_Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Product_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Price_Base__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Product_Loop.Price_Base__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Product_Type__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Product_Loop.Product_Type__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Qty__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Product_Loop.Quantity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Billing_Plan__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Product_Loop.Billing_Plan__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Is_Tier_Change__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varChangeTier</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Changed_Contract_SKU__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>varChangedContractSku.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Parent_Opportunity__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_This_Opportunity.Related_Opportunity__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.RecordTypeId</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Get_Opportunity_SKU_Standard_Record_Type.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.CurrencyIsoCode</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Product_Loop.CurrencyIsoCode</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Single_Brand_Find_Promotion_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Single_Brand_Set_Promotion_on_Opportunity_SKU_Variable</name>
        <label>Single Brand Set Promotion on Opportunity SKU Variable</label>
        <locationX>9253</locationX>
        <locationY>17108</locationY>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Lifetime_Promotion__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Find_Promotion_Loop.Promotion__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>varOpportunitySku.Short_Term_Discount__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Single_Brand_Find_Promotion_Loop.Discount_Percentage__c</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Single_Brand_Find_Promotion_Loop</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Opportunity_SKU_Collection</name>
        <label>Update Opportunity SKU Collection</label>
        <locationX>7801</locationX>
        <locationY>21356</locationY>
        <assignmentItems>
            <assignToReference>collOpportunitySKUs</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>collNewOpportunitySKUValues</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Create_Opportunity_SKU_Records</targetReference>
        </connector>
    </assignments>
    <assignments>
        <name>Update_Opportunity_SKU_with_Bundle_Attributes</name>
        <label>Update Opportunity SKU with Bundle Attributes</label>
        <locationX>8329</locationX>
        <locationY>20996</locationY>
        <assignmentItems>
            <assignToReference>Apply_Bundle_Attributes_Loop.Bundle__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Apply_Bundle_Attributes_Sub_Loop.Bundle__c</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>Apply_Bundle_Attributes_Loop.Bundle_SKU_Product__c</assignToReference>
            <operator>Assign</operator>
            <value>
                <elementReference>Apply_Bundle_Attributes_Sub_Loop.Id</elementReference>
            </value>
        </assignmentItems>
        <assignmentItems>
            <assignToReference>collNewOpportunitySKUValues</assignToReference>
            <operator>Add</operator>
            <value>
                <elementReference>Apply_Bundle_Attributes_Loop</elementReference>
            </value>
        </assignmentItems>
        <connector>
            <targetReference>Apply_Bundle_Attributes_Sub_Loop</targetReference>
        </connector>
    </assignments>
    <choices>
        <name>choiceLifetime</name>
        <choiceText>Lifetime</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Lifetime</stringValue>
        </value>
    </choices>
    <choices>
        <name>choiceShortTerm</name>
        <choiceText>Short-Term</choiceText>
        <dataType>String</dataType>
        <value>
            <stringValue>Short-Term</stringValue>
        </value>
    </choices>
    <collectionProcessors>
        <name>Filter_Addons</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Addons</label>
        <locationX>6277</locationX>
        <locationY>6836</locationY>
        <assignNextValueToReference>currentItem_Filter_Addons</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>Get_Add_On_Products</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Addons.Product_Tier__c</leftValueReference>
            <operator>Contains</operator>
            <rightValue>
                <elementReference>varTier</elementReference>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Are_Add_On_Products_Found</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Filter_Main_Product_Collection_by_Selected_Brand</name>
        <elementSubtype>FilterCollectionProcessor</elementSubtype>
        <label>Filter Main Product Collection by Selected Brand</label>
        <locationX>7042</locationX>
        <locationY>9776</locationY>
        <assignNextValueToReference>currentItem_Filter_Main_Product_Collection_by_Selected_Brand</assignNextValueToReference>
        <collectionProcessorType>FilterCollectionProcessor</collectionProcessorType>
        <collectionReference>collAllProducts</collectionReference>
        <conditionLogic>and</conditionLogic>
        <conditions>
            <leftValueReference>currentItem_Filter_Main_Product_Collection_by_Selected_Brand.Product_Sub_Family__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>Brand</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Main_Product_Collection_by_Selected_Brand.Pricing_Type__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <elementReference>qcBillingType.value</elementReference>
            </rightValue>
        </conditions>
        <conditions>
            <leftValueReference>currentItem_Filter_Main_Product_Collection_by_Selected_Brand.Product_Type__c</leftValueReference>
            <operator>EqualTo</operator>
            <rightValue>
                <stringValue>Main</stringValue>
            </rightValue>
        </conditions>
        <connector>
            <targetReference>Assign_Filtered_Main_Products_to_Filtered_Collection</targetReference>
        </connector>
    </collectionProcessors>
    <collectionProcessors>
        <name>Sort_Display_Products_Collection</name>
        <elementSubtype>SortCollectionProcessor</elementSubtype>
        <label>Sort Display Products Collection</label>
        <locationX>6277</locationX>
        <locationY>8360</locationY>
        <collectionProcessorType>SortCollectionProcessor</collectionProcessorType>
        <collectionReference>collDisplayProducts</collectionReference>
        <connector>
            <targetReference>Add_Ons_and_Services</targetReference>
        </connector>
        <sortOptions>
            <doesPutEmptyStringAndNullFirst>false</doesPutEmptyStringAndNullFirst>
            <sortField>Product_Name__c</sortField>
            <sortOrder>Asc</sortOrder>
        </sortOptions>
    </collectionProcessors>
    <collectionProcessors>
        <description>Sort Opportunity SKUs by SKU Product Name so that brands are grouped. If product sub-family sort is required in future, the product-sub family field will need to be added to the Opportunity SKU object so it can be used here.</description>
        <name>Sort_Opportunity_SKUs_by_Name</name>
        <elementSubtype>SortCollectionProcessor</elementSubtype>
        <label>Sort Opportunity SKUs by Name</label>
        <locationX>7801</locationX>
        <locationY>2588</locationY>
        <collectionProcessorType>SortCollectionProcessor</collectionProcessorType>
        <collectionReference>collUnbundledSkus</collectionReference>
        <connector>
            <targetReference>Get_All_Opportunity_SKUs</targetReference>
        </connector>
        <sortOptions>
            <doesPutEmptyStringAndNullFirst>false</doesPutEmptyStringAndNullFirst>
            <sortField>SKU_Product__c</sortField>
            <sortOrder>Asc</sortOrder>
        </sortOptions>
    </collectionProcessors>
    <constants>
        <name>conCircumventPromoLogic</name>
        <dataType>Boolean</dataType>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </constants>
    <decisions>
        <name>Action_Type</name>
        <label>Action Type</label>
        <locationX>7933</locationX>
        <locationY>5288</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Add_Product</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsActionSelection.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Add Product</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_All_Products</targetReference>
            </connector>
            <label>Add Product</label>
        </rules>
        <rules>
            <name>Remove_Items2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsEditActions.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Remove Items</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Individual_Opportunity_SKUs_Selected</targetReference>
            </connector>
            <label>Remove Items</label>
        </rules>
        <rules>
            <name>Add_Bundle</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsActionSelection.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Add Bundle</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Bundles</targetReference>
            </connector>
            <label>Add Bundle</label>
        </rules>
        <rules>
            <name>Add_Add_on</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsActionSelection.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Add Add-on</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Existing_Opportunity_SKUs</targetReference>
            </connector>
            <label>Add Add-on</label>
        </rules>
        <rules>
            <name>Add_Discount</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsActionSelection.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Add Discount</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Build_All_Opp_SKU_Id_Loop</targetReference>
            </connector>
            <label>Add Discount</label>
        </rules>
        <rules>
            <name>Edit_Quantity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsEditActions.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Edit Quantity</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Opportunity_SKUs_with_Unlocked_Quantities</targetReference>
            </connector>
            <label>Edit Quantity</label>
        </rules>
        <rules>
            <name>Upgrade_Downgrade</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsEditActions.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Upgrade/Downgrade</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Change_Tier_Variable</targetReference>
            </connector>
            <label>Upgrade/Downgrade</label>
        </rules>
    </decisions>
    <decisions>
        <name>Add_to_Selected_Opp</name>
        <label>Add to Selected Opp</label>
        <locationX>7801</locationX>
        <locationY>17948</locationY>
        <defaultConnector>
            <targetReference>Get_Open_Child_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Add_to_Opp</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtOpenOpportunities.numberOfRowsSelected</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Opp_Id_Variable</targetReference>
            </connector>
            <label>Add to Opp</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_Add_On_Products_Found</name>
        <label>Are Add-On Products Found?</label>
        <locationX>6277</locationX>
        <locationY>6944</locationY>
        <defaultConnector>
            <targetReference>Set_No_Add_Ons_Found_Variable</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Add_On_Products_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Add_On_Products</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Display_Products_Collection</targetReference>
            </connector>
            <label>Add-On Products Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_All</name>
        <label>Are All Opportunity SKUs Being Deleted</label>
        <locationX>2459</locationX>
        <locationY>6836</locationY>
        <defaultConnector>
            <targetReference>Opportunities_with_Deleted_SKUs_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>All_Opportunity_SKUs_Deleted</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varOpportunitySkusBeingDeletedCount</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>varAllOpportunitySkuCount</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Child_Opportunity_with_Deleted_SKUs</targetReference>
            </connector>
            <label>All Opportunity SKUs Deleted</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_Main_Products_Available</name>
        <label>Are Main Products Available?</label>
        <locationX>7042</locationX>
        <locationY>11108</locationY>
        <defaultConnector>
            <targetReference>No_Main_Products_Found_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Main_Products_Available</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varMainProductCount</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Main_Product_Selection</targetReference>
            </connector>
            <label>Main Products Available</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_Non_Parntership_Lifetime_Product_Sku_Promos_Found</name>
        <label>Are Non-Parntership Lifetime Product Sku Promos Found?</label>
        <locationX>11138</locationX>
        <locationY>10760</locationY>
        <defaultConnector>
            <targetReference>Select_Promotion_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Non_Parntership_Lifetime_Product_Sku_Promos_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Non_Parntership_Lifetime_Product_Sku_Promos</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Non_Partnership_Lifetime_Product_Sku_Promos_to_Display_Collection</targetReference>
            </connector>
            <label>Non-Parntership Lifetime Product Sku Promos Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_Non_Partnership_Promos_Found</name>
        <label>Are Non-Partnership Promos Found?</label>
        <locationX>11138</locationX>
        <locationY>10160</locationY>
        <defaultConnector>
            <targetReference>Get_Non_Parntership_Lifetime_Product_Sku_Promos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Non_Partnership_Promos_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_All_Non_Partnership_Lifetime_Promotions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Non_Parntership_Lifetime_Promos_Loop</targetReference>
            </connector>
            <label>Non-Partnership Promos Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_Opportunities_Lost</name>
        <label>Are Opportunities Lost?</label>
        <locationX>1854</locationX>
        <locationY>8444</locationY>
        <defaultConnector>
            <targetReference>Get_Related_Opportunity_Promos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Opportunities_Lost</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collOpportunitiesToBeUpdatedToLost</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunities_to_Lost</targetReference>
            </connector>
            <label>Opportunities Lost</label>
        </rules>
    </decisions>
    <decisions>
        <name>Are_Promotions_Edited</name>
        <label>Are Promotions Edited?</label>
        <locationX>12692</locationX>
        <locationY>12068</locationY>
        <defaultConnector>
            <targetReference>Copy_1_of_Add_Selected_Promotion_SKUs_to_Collection2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Edited</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtSalesApprovedPromotions.numberOfRowsEdited</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Selected_Promotion_SKUs_to_Collection3</targetReference>
            </connector>
            <label>Edited</label>
        </rules>
    </decisions>
    <decisions>
        <name>Bundle_Action</name>
        <label>Bundle Action</label>
        <locationX>2822</locationX>
        <locationY>5612</locationY>
        <defaultConnector>
            <targetReference>Get_Bundle_SKU_Products</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Add Bundle</defaultConnectorLabel>
        <rules>
            <name>Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Add_Bundle.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Product_Selection</targetReference>
            </connector>
            <label>Back</label>
        </rules>
    </decisions>
    <decisions>
        <name>Bundle_Selected_for_Removal</name>
        <label>Bundle Selected for Removal?</label>
        <locationX>2074</locationX>
        <locationY>5696</locationY>
        <defaultConnector>
            <targetReference>Delete_Opportunity_SKUs2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Remove_Bundle3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtBundles.numberOfRowsSelected</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Bundled_SKUs_to_Collection</targetReference>
            </connector>
            <label>Remove Bundle</label>
        </rules>
    </decisions>
    <decisions>
        <name>Bundle_SKU_Product_Match</name>
        <label>Bundle SKU Product Match</label>
        <locationX>8461</locationX>
        <locationY>20888</locationY>
        <defaultConnector>
            <targetReference>Apply_Bundle_Attributes_Sub_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Match2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Apply_Bundle_Attributes_Loop.SKU_Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Apply_Bundle_Attributes_Sub_Loop.SKU_Product__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunity_SKU_with_Bundle_Attributes</targetReference>
            </connector>
            <label>Match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Bundles_on_Opportunity</name>
        <label>Bundles on Opportunity?</label>
        <locationX>7933</locationX>
        <locationY>1772</locationY>
        <defaultConnector>
            <targetReference>Opportunity_SKUs_Exist</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Bundles_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Bundled_Opportunity_SKUs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Bundle_Ids_Loop</targetReference>
            </connector>
            <label>Bundles Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Discount_Limit</name>
        <label>Check Discount Limit</label>
        <locationX>15002</locationX>
        <locationY>12734</locationY>
        <defaultConnector>
            <targetReference>SKU_Product_Promo_Match_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Discount_Exceeds_Limit</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.SKU_Product_Specific_Discount__c</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Max__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Short-Term</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Max__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Discount_Limit_Exceeded_Variable</targetReference>
            </connector>
            <label>Discount Exceeds Limit</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_if_Parent_Exists</name>
        <label>Check if Parent Exists</label>
        <locationX>7141</locationX>
        <locationY>16568</locationY>
        <defaultConnector>
            <targetReference>Get_Parent_Opportunity_Record_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Parent Exists</defaultConnectorLabel>
        <rules>
            <name>Parent_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_This_Opportunity.Related_Opportunity__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Parent_Opportunity_Variable</targetReference>
            </connector>
            <label>Parent Exists</label>
        </rules>
        <rules>
            <name>dec_Is_Parent_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_This_Opportunity.RecordType.Name</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Parent_Opportunity_Variable_to_this_Opportunity</targetReference>
            </connector>
            <label>Is Parent Opportunity</label>
        </rules>
    </decisions>
    <decisions>
        <name>Check_Override_Duration</name>
        <label>Check Override Duration</label>
        <locationX>14650</locationX>
        <locationY>12626</locationY>
        <defaultConnector>
            <targetReference>Set_Duration_Override_Validation_Variable_to_True</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Override Duration is Invalid</defaultConnectorLabel>
        <rules>
            <name>Is_Company_Promo</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Short-Term</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Short_Term_Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Company Promotion</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SKU_Product_Promo_Match_Loop</targetReference>
            </connector>
            <label>Is Company Promo</label>
        </rules>
        <rules>
            <name>Is_Lifetime_Promo</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Lifetime</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>SKU_Product_Promo_Match_Loop</targetReference>
            </connector>
            <label>Is Lifetime Promo</label>
        </rules>
        <rules>
            <name>Duration_Locked</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Duration_Lock__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Short-Term</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.SKU_Product_Specific_Duration__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Duration__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.SKU_Product_Specific_Duration__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Duration_Locked_Variable2</targetReference>
            </connector>
            <label>Duration Locked</label>
        </rules>
        <rules>
            <name>Discount_Locked</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Lock__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.SKU_Product_Specific_Discount__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.SKU_Product_Specific_Discount__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>Selected_Promos_Loop.Discount_Percentage__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Discount_Locked_Variable</targetReference>
            </connector>
            <label>Discount Locked</label>
        </rules>
        <rules>
            <name>Override_Duration_is_Valid</name>
            <conditionLogic>(1 AND 3) OR 2 OR 4</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.SKU_Product_Specific_Duration__c</leftValueReference>
                <operator>LessThanOrEqualTo</operator>
                <rightValue>
                    <elementReference>Selected_Promos_Loop.Promotion__r.Discount_Duration_Max__c</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Lifetime</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Duration_Max__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Duration_Max__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_Discount_Limit</targetReference>
            </connector>
            <label>Override Duration is Valid</label>
        </rules>
    </decisions>
    <decisions>
        <name>Contract_SKU_Found</name>
        <label>Contract SKU Found?</label>
        <locationX>14980</locationX>
        <locationY>6260</locationY>
        <defaultConnector>
            <targetReference>Assign_SKU_Product_to_Aggregate_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Contract_SKU_Found_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Contract_SKU</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Contract_SKU_Variable</targetReference>
            </connector>
            <label>Contract SKU Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Contract_SKUs_Found_0</name>
        <label>Contract SKUs Found?</label>
        <locationX>7801</locationX>
        <locationY>4112</locationY>
        <defaultConnector>
            <targetReference>Product_Selection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>SKUs_Found_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Contract_Line_Items_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Contract_SKUs_Assignment_Loop_0</targetReference>
            </connector>
            <label>SKUs Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Add_on_Selection</name>
        <label>Add-on Selection Made?</label>
        <locationX>6272</locationX>
        <locationY>8744</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Get_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>dec_Add_on_Selection_Skip</name>
            <conditionLogic>( 1 OR 2 ) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Add_Ons_From_Main_Products_Path.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Skip</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>buttons_Add_Ons_No_Selection_From_Main_Product_Path.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Skip</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_From_Main_Product_Path</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Get_Opportunity</targetReference>
            </connector>
            <label>Skip</label>
        </rules>
        <rules>
            <name>dec_Add_on_Selection_Back_2</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Add_Ons_Back.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>buttons_Add_Ons_Select.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <label>Back</label>
        </rules>
        <rules>
            <name>No_Add_Ons_Exist</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>varNoAddons</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varNoMainProductsValidation</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <label>No Add-Ons Exist</label>
        </rules>
        <rules>
            <name>Add_on_Selected</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Add_Ons_From_Main_Products_Path.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Select</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>buttons_Add_Ons_Select.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Select</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_Validation_Variables</targetReference>
            </connector>
            <label>Add-on Selected</label>
        </rules>
        <rules>
            <name>dec_Add_on_Selection_Back_to_Main_Product_Selection</name>
            <conditionLogic>(1 OR 3 ) AND 2</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Add_Ons_From_Main_Products_Path.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>var_From_Main_Product_Path</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>buttons_Add_Ons_No_Selection_From_Main_Product_Path.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Main_Product_Selection</targetReference>
            </connector>
            <label>Back to Main Product Selection</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Brand_Screen_Action</name>
        <label>Brand Screen Action</label>
        <locationX>6382</locationX>
        <locationY>9176</locationY>
        <defaultConnector>
            <targetReference>Check_if_Opportunity_Already_Has_Brand_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Next</defaultConnectorLabel>
        <rules>
            <name>dec_Brand_Screen_Action_Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Brand.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Product_Selection</targetReference>
            </connector>
            <label>Back</label>
        </rules>
        <rules>
            <name>No_Brand_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Brand</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_No_Brand_Selected_Variable</targetReference>
            </connector>
            <label>No Brand Selected</label>
        </rules>
        <rules>
            <name>No_Pricing_Type_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>qcBillingType.value</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_No_Pricing_Type_Variable</targetReference>
            </connector>
            <label>No Pricing Type Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Check_if_Add_On_Already_Exists_on_Opportunity</name>
        <label>Check if Add On Already Exists on Opportunity</label>
        <locationX>5460</locationX>
        <locationY>10736</locationY>
        <defaultConnector>
            <targetReference>Check_for_Existing_Add_On_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Opportunity SKU Exists</defaultConnectorLabel>
        <rules>
            <name>dec_Opportunity_SKU_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collSelectedProductIds</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>Check_for_Existing_Add_On_Loop.SKU_Product__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Add_On_Exists_Variable</targetReference>
            </connector>
            <label>Opportunity SKU Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Confirm_Bundled_Skus_Actions</name>
        <label>Confirm Bundled Skus Actions</label>
        <locationX>3042</locationX>
        <locationY>5936</locationY>
        <defaultConnector>
            <targetReference>Bundle_SKU_Product_Ids_to_Collection_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Confirm</defaultConnectorLabel>
        <rules>
            <name>dec_Confirm_Bundled_Skus_Actions_Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Confirm_Bundled_Skus.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>screenAddBundles</targetReference>
            </connector>
            <label>Back</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Deleted_Opportunity_SKUs</name>
        <label>Deleted Opportunity SKUs?</label>
        <locationX>8360</locationX>
        <locationY>9176</locationY>
        <defaultConnector>
            <targetReference>Set_Variables</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Deleted_Opportunity_SKUs_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>checkboxRemoveOpportunitySkus</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Opportunity_SKUs_to_Delete</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Does_Edited_Product_Match_Selected_Product</name>
        <label>Does Edited Product Match Selected Product?</label>
        <locationX>5726</locationX>
        <locationY>9776</locationY>
        <defaultConnector>
            <targetReference>Edited_Addons_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Does_Edited_Product_Match_Selected_Product_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Addons_Loop.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Edited_Addons_Loop.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Edited_Addon_Id_to_Collection</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Does_Opportunity_Already_have_Brand_Sku</name>
        <label>Does Opportunity Already have Brand Sku?</label>
        <locationX>7350</locationX>
        <locationY>9392</locationY>
        <defaultConnector>
            <targetReference>Check_if_Opportunity_Already_Has_Brand_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>LawPay</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Check_if_Opportunity_Already_Has_Brand_Loop.SKU_Product__r.Product_Sub_Family__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>LawPay</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_if_Opportunity_Already_Has_Brand_Loop</targetReference>
            </connector>
            <label>LawPay</label>
        </rules>
        <rules>
            <name>dec_Does_Opportunity_Already_have_Brand_Sku_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Check_if_Opportunity_Already_Has_Brand_Loop.SKU_Product__r.Product_Sub_Family__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Brand</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Check_if_Opportunity_Already_Has_Brand_Loop.SKU_Product__r.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Main</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Brand_Exists_on_Opportunity_Variable</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Does_Selected_Main_Product_Match_Edited_Main_Product</name>
        <label>Does Selected Main Product Match Edited Main Product?</label>
        <locationX>8890</locationX>
        <locationY>10766</locationY>
        <defaultConnector>
            <targetReference>Edited_Main_Products_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Does_Selected_Main_Product_Match_Edited_Main_Product_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Main_Products_Loop.Id</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Edited_Main_Products_Loop.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Edited_Product_Ids_to_Collections</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Is_Addon_Edited</name>
        <label>Is Addon Edited?</label>
        <locationX>5240</locationX>
        <locationY>8960</locationY>
        <defaultConnector>
            <targetReference>Is_Addon_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Is_Addon_Edited_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtAddOnsAndServices.numberOfRowsEdited</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_for_Quantity_Lock_on_Edited_Addon_Loop</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Is_Edited_Addon_Quantity_Locked</name>
        <label>Is Edited Addon Quantity Locked?</label>
        <locationX>5286</locationX>
        <locationY>9176</locationY>
        <defaultConnector>
            <targetReference>Check_for_Quantity_Lock_on_Edited_Addon_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Is_Edited_Addon_Quantity_Locked_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Check_for_Quantity_Lock_on_Edited_Addon_Loop.Quantity_Locked__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Quantity_Locked_Variable</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Is_Lifetime_Promo_Already_Added</name>
        <label>Is Lifetime Promo Already Added?</label>
        <locationX>15398</locationX>
        <locationY>13508</locationY>
        <defaultConnector>
            <targetReference>Set_Opportunity_SKU_Updates_Lifetime</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Is_Lifetime_Promo_Already_Added_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SKU_Product_Promo_Match_Loop.Lifetime_Promotion__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lifetime_Promo_Already_Exists_Screen</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Is_Lifetime_Promo_Selected</name>
        <label>Is Lifetime Promo Selected?</label>
        <locationX>13022</locationX>
        <locationY>11552</locationY>
        <defaultConnector>
            <targetReference>Short_Term_Promo_Type</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Is_Lifetime_Promo_Selected_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtLifetimePromotions2.numberOfRowsSelected</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Selected_Lifetime_Promotion_to_Collection</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Is_Short_Term_Promo_Already_Added</name>
        <label>Is Short Term Promo Already Added?</label>
        <locationX>14870</locationX>
        <locationY>13508</locationY>
        <defaultConnector>
            <targetReference>Set_Opportunity_SKU_Updates_Short_Term</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Is_Short_Term_Promo_Already_Added_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>SKU_Product_Promo_Match_Loop.Short_Term_Promotion__r.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Short_Term_Promo_Already_Exists_Screen</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Loss_Reasons_Action_Decision</name>
        <label>Loss Reasons Action Decision</label>
        <locationX>2074</locationX>
        <locationY>7676</locationY>
        <defaultConnector>
            <targetReference>Set_Lost_Opportunity_Variable</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Next</defaultConnectorLabel>
        <rules>
            <name>dec_Loss_Reasons_Action_Decision_Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Loss_Reason_Action.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Get_All_Child_Opportunity_SKUs</targetReference>
            </connector>
            <label>Back</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Main_Product_Actions</name>
        <label>Main Product Actions</label>
        <locationX>7480</locationX>
        <locationY>8960</locationY>
        <defaultConnector>
            <targetReference>dec_Main_Product_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Select</defaultConnectorLabel>
        <rules>
            <name>dec_Main_Product_Actions_Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Main_Product.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Brand_Selection</targetReference>
            </connector>
            <label>Back</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Main_Product_for_Add_Ons_Actions</name>
        <label>Main Product for Add Ons Actions</label>
        <locationX>5870</locationX>
        <locationY>6512</locationY>
        <defaultConnector>
            <targetReference>Set_Add_On_Filtering_Variables</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Select</defaultConnectorLabel>
        <rules>
            <name>dec_Main_Product_for_Add_Ons_Actions_Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Main_Product_for_Add_Ons.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Product_Selection</targetReference>
            </connector>
            <label>Back</label>
        </rules>
        <rules>
            <name>dec_Main_Product_for_Add_Ons_Actions_No_Product_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtMainProductsForAddAddOn.numberOfRowsSelected</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>No_Main_Product_Selected_Variable_Assigment</targetReference>
            </connector>
            <label>No Product Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Main_Product_Quantity_is_Locked</name>
        <label>Main Product Quantity is Locked?</label>
        <locationX>8450</locationX>
        <locationY>10100</locationY>
        <defaultConnector>
            <targetReference>Edited_Main_Product_Quantity_Locked_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Main_Product_Quantity_is_Locked_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Edited_Main_Product_Quantity_Locked_Loop.Quantity_Locked__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Quantity_Locked_Variable_MainProduct</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Main_Product_Selected</name>
        <label>Main Product Selected?</label>
        <locationX>8579</locationX>
        <locationY>9068</locationY>
        <defaultConnector>
            <targetReference>Set_No_Main_Product_Selected_Variable</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Main_Product_Selected_Yes</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>dtMainProducts.numberOfRowsSelected</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>dtMainProducts.numberOfRowsEdited</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>dec_Deleted_Opportunity_SKUs</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Opportunity_SKUs_to_Delete_Found</name>
        <label>Opportunity SKUs to Delete Found?</label>
        <locationX>8206</locationX>
        <locationY>9392</locationY>
        <defaultConnector>
            <targetReference>Set_Variables</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Opportunity_SKUs_to_Delete_Found_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity_SKUs_to_Delete</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Opportunity_SKUs3</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Promo_Action</name>
        <label>Promo Action</label>
        <locationX>11413</locationX>
        <locationY>5912</locationY>
        <defaultConnector>
            <targetReference>Get_Existing_Opportunity_Promos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Next</defaultConnectorLabel>
        <rules>
            <name>dec_Promo_Action_Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Promo_Action.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Product_Selection</targetReference>
            </connector>
            <label>Back</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Required_Products_Action</name>
        <label>Required Products Action</label>
        <locationX>8164</locationX>
        <locationY>12350</locationY>
        <defaultConnector>
            <targetReference>Required_Products_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Next</defaultConnectorLabel>
        <rules>
            <name>dec_Required_Products_Action_Back</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Required_Products.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Main_Product_Selection</targetReference>
            </connector>
            <label>Back</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Select_Promo_Action</name>
        <label>Select Promo Action</label>
        <locationX>11306</locationX>
        <locationY>11444</locationY>
        <defaultConnector>
            <targetReference>dec_Is_Lifetime_Promo_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Add</defaultConnectorLabel>
        <rules>
            <name>dec_Select_Promo_Action_Back</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>buttons_Promo_Selection.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>buttons_Promo_Selection_2.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Back</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <isGoTo>true</isGoTo>
                <targetReference>Reset_Promo_Variables</targetReference>
            </connector>
            <label>Back</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Was_Selected_Main_Product_Added_to_Collection</name>
        <label>Was Selected Main Product Added to Collection?</label>
        <locationX>8670</locationX>
        <locationY>11150</locationY>
        <defaultConnector>
            <targetReference>AddSelectedMainProducttoCollection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Was_Selected_Main_Product_Added_to_Collection_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Main_Product_Is_Edited</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_Main_Product_is_Edited_Variable</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>dec_Was_Selected_Product_Edited</name>
        <label>Was Selected Product Edited</label>
        <locationX>5506</locationX>
        <locationY>10160</locationY>
        <defaultConnector>
            <targetReference>Add_Selected_Product_to_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Was_Selected_Product_Edited_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Addon_Is_Edited</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_Addon_Is_Edited_Variable</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Delete_Action</name>
        <label>Delete Action</label>
        <locationX>2272</locationX>
        <locationY>7160</locationY>
        <defaultConnector>
            <targetReference>Opportunities_with_Deleted_SKUs_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Change Product</defaultConnectorLabel>
        <rules>
            <name>Close_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>buttonsDeleteOpportunitySKUs.value</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Close Opportunity</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remove_Deleted_Opportunity_SKUs_Loop</targetReference>
            </connector>
            <label>Close Opportunity</label>
        </rules>
    </decisions>
    <decisions>
        <name>Delete_Opportunity_SKUs2</name>
        <label>Delete Opportunity SKUs?</label>
        <locationX>2074</locationX>
        <locationY>5996</locationY>
        <defaultConnector>
            <targetReference>Promotion_Selected_for_Removal</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Delete_Opp_SKUs</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collDeletedSKUs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Find_Promos_for_Deleted_Opportunity_SKUs_Loop</targetReference>
            </connector>
            <label>Delete Opp SKUs</label>
        </rules>
    </decisions>
    <decisions>
        <name>Delete_Opportunity_SKUs_2</name>
        <label>Delete Opportunity SKUs?</label>
        <locationX>1854</locationX>
        <locationY>9548</locationY>
        <defaultConnector>
            <targetReference>Promotion_Selected_for_Removal</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Delete_Opportunity_SKUs_3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varDeletedSkuCount</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Opportunity_SKUs</targetReference>
            </connector>
            <label>Delete Opportunity SKUs</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_Opportunity_SKUs_have_Promos</name>
        <label>Do Opportunity SKUs have Promos?</label>
        <locationX>1854</locationX>
        <locationY>9050</locationY>
        <defaultConnector>
            <targetReference>Delete_Opportunity_SKUs_2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Promos_Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Related_Opportunity_Promos</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Related_Opportunity_Promos</targetReference>
            </connector>
            <label>Promos Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Do_Partnership_Discounts_Exist</name>
        <label>Do Partnership Discounts Exist?</label>
        <locationX>10979</locationX>
        <locationY>8468</locationY>
        <defaultConnector>
            <targetReference>Get_All_Non_Partnership_Lifetime_Promotions</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Partnership_Discounts_Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Partnership_Discounts</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Partnership_Discounts_Loop</targetReference>
            </connector>
            <label>Partnership Discounts Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_Open_Child_Opportunity_Exist</name>
        <label>Does Open Child Opportunity Exist?</label>
        <locationX>7955</locationX>
        <locationY>18506</locationY>
        <defaultConnector>
            <targetReference>Get_Opportunity_Record_Types</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Child_Opportunity_Exists</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Open_Child_Opportunity</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Opp_Id_Variable2</targetReference>
            </connector>
            <label>Child Opportunity Exists</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_Opportunity_have_a_Partnership</name>
        <label>Does Opportunity have a Partnership?</label>
        <locationX>11138</locationX>
        <locationY>8252</locationY>
        <defaultConnector>
            <targetReference>Get_All_Non_Partnership_Lifetime_Promotions</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Has_Partnership</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_This_Opportunity.Discounting_Referral_Partnership__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Partnership_Discounts</targetReference>
            </connector>
            <label>Has Partnership</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_Product_Match_Opportunity_Promo</name>
        <label>Does Product Match Opportunity Promo?</label>
        <locationX>8593</locationX>
        <locationY>22688</locationY>
        <defaultConnector>
            <targetReference>Opportunity_Promos_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Match3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opportunity_Promos_Loop.Product_SKU_Promotion__r.SKU_Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Create_Opportunity_Promos_Loop.SKU_Product__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Remaining_Opportunity_Promo_Fields</targetReference>
            </connector>
            <label>Match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Does_SKU_Product_have_Record_Type_Override</name>
        <label>Does SKU Product have Record Type Override?</label>
        <locationX>8153</locationX>
        <locationY>15560</locationY>
        <defaultConnector>
            <targetReference>Assign_Brand_to_Brand_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Does_SKU_Product_have_Record_Type_Override_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Brand_Count_Loop.Opportunity_Record_Type_Override__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>N/A</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Brand_Count_Loop.Opportunity_Record_Type_Override__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Brand_Override_to_Brand_Collection</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Grandfathered1</name>
        <label>Grandfathered?</label>
        <locationX>6277</locationX>
        <locationY>7244</locationY>
        <defaultConnector>
            <targetReference>Update_Add_On_Quantity_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Grandfathered2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varIsGrandfathered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>fxProductIsGrandfatheredForAddOn</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Grandfathered_Add_On_Products</targetReference>
            </connector>
            <label>Grandfathered</label>
        </rules>
    </decisions>
    <decisions>
        <name>Grandfathered_Add_Ons_Found</name>
        <label>Grandfathered Add Ons Found?</label>
        <locationX>6123</locationX>
        <locationY>7460</locationY>
        <defaultConnector>
            <targetReference>Update_Add_On_Quantity_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Grandfathered_Add_Ons_Found1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Grandfathered_Add_On_Products</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Grandfathered_Add_Ons_to_Display_Collection</targetReference>
            </connector>
            <label>Grandfathered Add Ons Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Grandfathered_Products_Found</name>
        <label>Grandfathered Products Found?</label>
        <locationX>6888</locationX>
        <locationY>10208</locationY>
        <defaultConnector>
            <targetReference>Set_Quantity_on_Filtered_Products_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Grandfathered_Products_Found1</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Grandfathered_Main_Products</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Grandfathered_Main_Products_to_Collection</targetReference>
            </connector>
            <label>Grandfathered Products Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Add_Ons</name>
        <label>Has Add Ons?</label>
        <locationX>8360</locationX>
        <locationY>13034</locationY>
        <defaultConnector>
            <targetReference>Get_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Add_Ons_Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Add_Ons_and_Services_for_Main_Product</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Filtered_Add_Ons_and_Services_to_Collection</targetReference>
            </connector>
            <label>Add Ons Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Has_Opportunity_Promos</name>
        <label>Has Opportunity Promos?</label>
        <locationX>7933</locationX>
        <locationY>3188</locationY>
        <defaultConnector>
            <targetReference>Get_Contract_Subscriptions_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Promos_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity_Promos</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_HasPromos_Variable</targetReference>
            </connector>
            <label>Promos Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Have_Opportunity_Promos</name>
        <label>Have Opportunity Promos?</label>
        <locationX>7933</locationX>
        <locationY>23264</locationY>
        <defaultConnector>
            <targetReference>Navigate_to_New_Parent_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Opportunity_Promos_Exist</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collFinalOpportunityPromos</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Opportunity_Promos</targetReference>
            </connector>
            <label>Opportunity Promos Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Individual_Opportunity_SKUs_Selected</name>
        <label>Individual Opportunity SKUs Selected?</label>
        <locationX>2074</locationX>
        <locationY>5396</locationY>
        <defaultConnector>
            <targetReference>Bundle_Selected_for_Removal</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Delete_Individual_Opportunity_SKUs</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtOpportunitySkus.numberOfRowsSelected</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Deleted_SKUs_to_Collection</targetReference>
            </connector>
            <label>Delete Individual Opportunity SKUs</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Active_Contract_Found_0</name>
        <label>Is Active Contract Found?</label>
        <locationX>7933</locationX>
        <locationY>3596</locationY>
        <defaultConnector>
            <targetReference>Product_Selection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Active_Contract_Found_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Contract_Subscriptions_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Contract_Id_Collection_0</targetReference>
            </connector>
            <label>Active Contract Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Addon_Selected</name>
        <label>Is Addon Selected?</label>
        <locationX>5414</locationX>
        <locationY>9068</locationY>
        <defaultConnector>
            <targetReference>Check_for_Existing_Add_On_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Addon_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtAddOnsAndServices.numberOfRowsSelected</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Selected_Add_Ons_and_Services_to_Selected_Products_Collection</targetReference>
            </connector>
            <label>Addon Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Bundle_Selection</name>
        <label>Is Bundle Selection</label>
        <locationX>7933</locationX>
        <locationY>20564</locationY>
        <defaultConnector>
            <targetReference>Create_Opportunity_SKU_Records</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Bundle_Selection</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varBundleSelection</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Apply_Bundle_Attributes_Loop</targetReference>
            </connector>
            <label>Bundle Selection</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Contract_SKU_a_Main_Product_Type_0</name>
        <label>Is Contract SKU a Main Product Type?</label>
        <locationX>7957</locationX>
        <locationY>4328</locationY>
        <defaultConnector>
            <targetReference>Is_SKU_Product_Grandfathered</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Main_Product_Type_0</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Contract_SKUs_Assignment_Loop_0.SKU_Product__r.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Main</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Contract_SKU_to_Collection_0</targetReference>
            </connector>
            <label>Main Product Type</label>
        </rules>
    </decisions>
    <decisions>
        <description>Checks if current loop item&#39;s brand is the same as Opportunity that started transaction in order to skip creating an Opportunity for the brand.</description>
        <name>Is_Current_Opportunity_Brand</name>
        <label>Is Current Opportunity Brand?</label>
        <locationX>8285</locationX>
        <locationY>17516</locationY>
        <defaultConnector>
            <targetReference>Set_Opportunity_Id_Variable_to_This_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Yes</defaultConnectorLabel>
        <rules>
            <name>dec_Is_Current_Opportunity_Brand_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Brand_Loop</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <elementReference>fxThisOpportunityRecordTypeToBrand</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Open_Opportunities</targetReference>
            </connector>
            <label>No</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Grandfathered</name>
        <label>Is Grandfathered?</label>
        <locationX>7042</locationX>
        <locationY>9992</locationY>
        <defaultConnector>
            <targetReference>Set_Quantity_on_Filtered_Products_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Grandfathered3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varIsGrandfathered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>fxBrandisGrandfathered</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Grandfathered_Main_Products</targetReference>
            </connector>
            <label>Grandfathered</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Lifetime_Selected</name>
        <label>Is Lifetime Discount Selected?</label>
        <locationX>11306</locationX>
        <locationY>8144</locationY>
        <defaultConnector>
            <targetReference>Select_Promotion_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Lifetime_Discount_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cboxgrpDiscountType</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>choiceLifetime</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Does_Opportunity_have_a_Partnership</targetReference>
            </connector>
            <label>Lifetime Discount Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Parent_Opportunity</name>
        <label>Is Parent Opportunity?</label>
        <locationX>7933</locationX>
        <locationY>350</locationY>
        <defaultConnector>
            <targetReference>Add_This_Opportunity_ID_to_Filter_Collection</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Parent_Opportunity</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_This_Opportunity.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Parent_Variable</targetReference>
            </connector>
            <label>Parent Opportunity</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_Short_Term_Selected</name>
        <label>Is Short-Term Selected?</label>
        <locationX>13500</locationX>
        <locationY>6620</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Is_Lifetime_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Short_Term_Selected</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>cboxgrpDiscountType</leftValueReference>
                <operator>Contains</operator>
                <rightValue>
                    <elementReference>choiceShortTerm</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Short_Term_Promotions</targetReference>
            </connector>
            <label>Short-Term Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_SKU_Main_Product</name>
        <label>Is SKU Main Product?</label>
        <locationX>6428</locationX>
        <locationY>5720</locationY>
        <defaultConnector>
            <targetReference>Assign_Main_Product_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Main_Product</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Assign_Main_Product_Loop.Product_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Main</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Main_Product_Id_to_Collection</targetReference>
            </connector>
            <label>Main Product</label>
        </rules>
    </decisions>
    <decisions>
        <name>Is_SKU_Product_Grandfathered</name>
        <label>Is SKU Product Grandfathered?</label>
        <locationX>7957</locationX>
        <locationY>4628</locationY>
        <defaultConnector>
            <targetReference>Contract_SKUs_Assignment_Loop_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Grandfathered</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Contract_SKUs_Assignment_Loop_0.SKU_Product__r.Status__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Grand-Fathered</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Grandfathered_Attributes_to_Collections</targetReference>
            </connector>
            <label>Grandfathered?</label>
        </rules>
    </decisions>
    <decisions>
        <name>Lifetime_Promos_to_Remove</name>
        <label>Lifetime Promos to Remove?</label>
        <locationX>1810</locationX>
        <locationY>11906</locationY>
        <defaultConnector>
            <targetReference>Remove_Short_Term_Promos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Lifetime_Promos_to_Remove_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varLifetimePromosToRemove</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Opportunity_SKUs_for_Promo_Removal_Lifetime</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Lifetime_Promotions_Found</name>
        <label>Lifetime Promotions Found?</label>
        <locationX>10837</locationX>
        <locationY>9392</locationY>
        <defaultConnector>
            <targetReference>Get_All_Non_Partnership_Lifetime_Promotions</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Lifetime_Promotions_Found2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_All_Related_Lifetime_Promotions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Lifetime_Partnership_Promos_Loop</targetReference>
            </connector>
            <label>Lifetime Promotions Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Main_Products_Exist</name>
        <label>Main Products Exist?</label>
        <locationX>6272</locationX>
        <locationY>6296</locationY>
        <defaultConnector>
            <targetReference>Set_Display_Products_Collection2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Main Products</defaultConnectorLabel>
        <rules>
            <name>Main_Products_Exist2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Main_Products_0</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Main_Product_Selection_for_Add_On_Screen</targetReference>
            </connector>
            <label>Main Products Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Main_Products_Exist_5</name>
        <label>Main Products Exist?</label>
        <locationX>15343</locationX>
        <locationY>5612</locationY>
        <defaultConnector>
            <targetReference>No_Products_to_Upgrade_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No Main Products</defaultConnectorLabel>
        <rules>
            <name>Main_Products_Exist_4</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Main_Products</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Main_Product_Selection_Screen</targetReference>
            </connector>
            <label>Main Products Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Multiple_Brands</name>
        <label>Multiple Brands?</label>
        <locationX>7933</locationX>
        <locationY>16460</locationY>
        <defaultConnector>
            <targetReference>Single_Brand_Product_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Multi_Brand</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>varBrandCount</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>varAggregateBrandCount</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_This_Opportunity.RecordType.DeveloperName</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Parent</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Check_if_Parent_Exists</targetReference>
            </connector>
            <label>Multi-Brand</label>
        </rules>
    </decisions>
    <decisions>
        <name>Navigate_to_New_Parent_Opportunity</name>
        <label>Navigate to New Parent Opportunity?</label>
        <locationX>7933</locationX>
        <locationY>23762</locationY>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Navigate_to_New_Parent_Opportunity_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varNewParentOpportunityCreated</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Open_Parent_Opportunity</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Open_Opp_Found</name>
        <label>Open Opp Found?</label>
        <locationX>7955</locationX>
        <locationY>17732</locationY>
        <defaultConnector>
            <targetReference>Get_Open_Child_Opportunity</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Open_Opportunity_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Open_Opportunities</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Open_Opportunities_Screen</targetReference>
            </connector>
            <label>Open Opportunity Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Open_Opportunities_Exist</name>
        <label>Open Opportunities Exist?</label>
        <locationX>7933</locationX>
        <locationY>956</locationY>
        <defaultConnector>
            <targetReference>Get_Opportunity_SKUs</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Open_Opportunities_Exist_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collOpportunities</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Open_Opportunity_Loop</targetReference>
            </connector>
            <label>Open Opportunities Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_Promos_Exist2</name>
        <label>Opportunity Promos Exist?</label>
        <locationX>13500</locationX>
        <locationY>6128</locationY>
        <defaultConnector>
            <targetReference>Is_Short_Term_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Opportunity_Promos_Exist3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Existing_Opportunity_Promos</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Existing_Opportunity_Promo_Id_Loop</targetReference>
            </connector>
            <label>Opportunity Promos Exist</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_Promos_Still_Exist</name>
        <label>Opportunity Promos Still Exist?</label>
        <locationX>1810</locationX>
        <locationY>13646</locationY>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Opportunity_Promos_Still_Exist_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity_Promos_to_Be_Deleted</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Delete_Opportunity_Promos</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_SKUs_Exist</name>
        <label>Opportunity SKUs Exist?</label>
        <locationX>7933</locationX>
        <locationY>2372</locationY>
        <defaultConnector>
            <targetReference>Get_All_Opportunity_SKUs</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Opportunity_SKUs_Found2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity_SKUs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_HasUnbundledSKUs_Variable</targetReference>
            </connector>
            <label>Opportunity SKUs Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_SKUs_for_Promo_Removal_Found</name>
        <label>Opportunity SKUs for Promo Removal Found?</label>
        <locationX>1678</locationX>
        <locationY>10946</locationY>
        <defaultConnector>
            <targetReference>Lifetime_Promos_to_Remove</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Opportunity_SKUs_Found3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Opportunity_SKUs_for_Promo_Removal_Short_Term</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Strip_Promo_from_Opportunity_SKU_Loop</targetReference>
            </connector>
            <label>Opportunity SKUs Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_SKUs_Found</name>
        <label>Opportunity SKUs Found?</label>
        <locationX>6272</locationX>
        <locationY>5504</locationY>
        <defaultConnector>
            <targetReference>Get_Main_Products_0</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Opp_SKUs_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Existing_Opportunity_SKUs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Main_Product_Loop</targetReference>
            </connector>
            <label>Opp SKUs Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_SKUs_Found_2</name>
        <label>Opportunity SKUs Found</label>
        <locationX>7933</locationX>
        <locationY>21764</locationY>
        <defaultConnector>
            <targetReference>Create_Opportunity_Promos_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>dec_Opportunity_SKUs_Found_2_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_This_Opportunity_s_SKUs</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunity_SKUs_to_Parent_Loop</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Opportunity_Skus_Found_Lifetime</name>
        <label>Opportunity Skus Found - Lifetime?</label>
        <locationX>1668</locationX>
        <locationY>12122</locationY>
        <defaultConnector>
            <targetReference>Remove_Short_Term_Promos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Lifetime_Opportunity_Skus_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Opportunity_SKUs_for_Promo_Removal_Lifetime</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Strip_Promo_from_Lifetime_Opportunity_Sku_Loop</targetReference>
            </connector>
            <label>Lifetime Opportunity Skus Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Other_Main_Products_Found</name>
        <label>Other Main Products Found?</label>
        <locationX>15134</locationX>
        <locationY>5936</locationY>
        <defaultConnector>
            <targetReference>No_Other_Products_Found_Screen</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Other_Main_Products_Found_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Other_Main_Products</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Copy_1_of_No_Other_Products_Found_Screen</targetReference>
            </connector>
            <label>Other Main Products Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_Match_Brand</name>
        <label>Product Match Brand?</label>
        <locationX>8857</locationX>
        <locationY>19412</locationY>
        <defaultConnector>
            <targetReference>Product_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Brand_Match</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>Product_Loop.Product_Sub_Family__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>varBrand</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Product_Loop.Opportunity_Record_Type_Override__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>varBrand</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Opportunity_SKU_Variable</targetReference>
            </connector>
            <label>Brand Match</label>
        </rules>
    </decisions>
    <decisions>
        <name>Product_Sku_Promotions_Found</name>
        <label>Product Sku Promotions Found?</label>
        <locationX>11306</locationX>
        <locationY>7352</locationY>
        <defaultConnector>
            <targetReference>Short_Term_Discount_Type2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Records_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_All_Related_Short_Term_Promotions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Short_Term_Promot</targetReference>
            </connector>
            <label>Records Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Products_Edited</name>
        <label>Products Edited?</label>
        <locationX>8360</locationX>
        <locationY>9884</locationY>
        <defaultConnector>
            <targetReference>Products_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Products_Edited_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtMainProducts.numberOfRowsEdited</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Edited_Main_Product_Quantity_Locked_Loop</targetReference>
            </connector>
            <label>Products Edited</label>
        </rules>
    </decisions>
    <decisions>
        <name>Products_Selected</name>
        <label>Products Selected?</label>
        <locationX>8490</locationX>
        <locationY>9992</locationY>
        <defaultConnector>
            <targetReference>Get_Required_SKU_Product_Records</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Products_Selected_2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtMainProducts.numberOfRowsSelected</leftValueReference>
                <operator>GreaterThan</operator>
                <rightValue>
                    <numberValue>0.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Main_Product_to_Selected_Products_Collection2</targetReference>
            </connector>
            <label>Products Selected</label>
        </rules>
    </decisions>
    <decisions>
        <name>Promotion_Match</name>
        <label>Promotion Match?</label>
        <locationX>8945</locationX>
        <locationY>19736</locationY>
        <defaultConnector>
            <targetReference>Find_Promotion_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Promotion_Matched</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Find_Promotion_Loop.SKU_Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Product_Loop.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Promotion_on_Opportunity_SKU_Variable</targetReference>
            </connector>
            <label>Promotion Matched</label>
        </rules>
    </decisions>
    <decisions>
        <name>Promotion_Selected_for_Removal</name>
        <label>Promotion Selected for Removal?</label>
        <locationX>2074</locationX>
        <locationY>10130</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Remove_Promotion</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>dtOpportunityPromos.numberOfRowsSelected</leftValueReference>
                <operator>GreaterThanOrEqualTo</operator>
                <rightValue>
                    <numberValue>1.0</numberValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Remove_Promo_Loop</targetReference>
            </connector>
            <label>Remove Promotion</label>
        </rules>
    </decisions>
    <decisions>
        <name>Remove_Lifetime_Promos</name>
        <label>Remove Lifetime Promos?</label>
        <locationX>1810</locationX>
        <locationY>12998</locationY>
        <defaultConnector>
            <targetReference>Get_Opportunity_Promos_to_Be_Deleted</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>dec_Remove_Lifetime_Promos_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collOpportunitySKUsForPromoRemoval</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunity_SKUs</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Remove_Short_Term_Promos</name>
        <label>Remove Short Term Promos?</label>
        <locationX>1810</locationX>
        <locationY>12698</locationY>
        <defaultConnector>
            <targetReference>Remove_Lifetime_Promos</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>dec_Remove_Short_Term_Promos_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>collOpportunitySKUsRemoveShortTermPromos</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Opportunity_Skus_with_Short_Term_Promos</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Required_Products_Found</name>
        <label>Required Products Found?</label>
        <locationX>8360</locationX>
        <locationY>12134</locationY>
        <defaultConnector>
            <targetReference>Get_Add_Ons_and_Services_for_Main_Product</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Show_Required_Products</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Required_SKU_Product_Records</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Required_Products_Screen</targetReference>
            </connector>
            <label>Show Required Products</label>
        </rules>
    </decisions>
    <decisions>
        <name>Short_Term_Discount_Type2</name>
        <label>Short-Term Discount Type</label>
        <locationX>11306</locationX>
        <locationY>7844</locationY>
        <defaultConnector>
            <targetReference>Sales_Approved_Promo_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Sales Approved</defaultConnectorLabel>
        <rules>
            <name>Company_Promotion</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>radiobuttons_Short_Term_Discount_Type</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Company Promotion</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>Get_All_Related_Short_Term_Promotions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_Company_Promo_Variable</targetReference>
            </connector>
            <label>Company Promotion</label>
        </rules>
        <rules>
            <name>No_Short_Term_Discounts_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_All_Related_Short_Term_Promotions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Set_no_Short_Term_Discounts_Found_Variable_to_True</targetReference>
            </connector>
            <label>No Short Term Discounts Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Short_Term_or_Lifetime</name>
        <label>Short-Term or Lifetime</label>
        <locationX>15134</locationX>
        <locationY>13400</locationY>
        <defaultConnector>
            <targetReference>dec_Is_Lifetime_Promo_Already_Added</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Lifetime</defaultConnectorLabel>
        <rules>
            <name>Short_Term</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.Promotion__r.Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Short-Term</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>dec_Is_Short_Term_Promo_Already_Added</targetReference>
            </connector>
            <label>Short-Term</label>
        </rules>
    </decisions>
    <decisions>
        <name>Short_Term_or_Lifetime2</name>
        <label>Short-Term or Lifetime?</label>
        <locationX>2030</locationX>
        <locationY>10346</locationY>
        <defaultConnector>
            <targetReference>Assign_Opportunity_Promo_Data_to_Variables2</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Short_Term2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Remove_Promo_Loop.Product_SKU_Promotion__r.Promotion__r.Discount_Type__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Short-Term</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Opportunity_Promo_Data_to_Variables</targetReference>
            </connector>
            <label>Short-Term</label>
        </rules>
    </decisions>
    <decisions>
        <name>Short_Term_or_Lifetime3</name>
        <label>Short-Term or Lifetime?</label>
        <locationX>2690</locationX>
        <locationY>11270</locationY>
        <defaultConnector>
            <targetReference>Selected_Promos_for_Removal_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default</defaultConnectorLabel>
        <rules>
            <name>Short_Term3</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Strip_Promo_from_Opportunity_SKU_Loop.Short_Term_Promotion__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Selected_Promos_for_Removal_Loop.Product_SKU_Promotion__r.Promotion__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Opportunity_SKU_to_Variable</targetReference>
            </connector>
            <label>Short-Term</label>
        </rules>
        <rules>
            <name>Lifetime</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Strip_Promo_from_Opportunity_SKU_Loop.Lifetime_Promotion__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Selected_Promos_for_Removal_Loop.Product_SKU_Promotion__r.Promotion__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Assign_Opportunity_SKU_to_Variable_Lifetime</targetReference>
            </connector>
            <label>Lifetime</label>
        </rules>
    </decisions>
    <decisions>
        <name>Short_Term_Promo_Type</name>
        <label>Short-Term Promo Type</label>
        <locationX>13022</locationX>
        <locationY>11852</locationY>
        <defaultConnector>
            <targetReference>Selected_Promos_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>None</defaultConnectorLabel>
        <rules>
            <name>Sales_Approved</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Sales_Approved_Promo_Selected</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Reset_Duration_Validation_Variables2</targetReference>
            </connector>
            <label>Sales Approved</label>
        </rules>
        <rules>
            <name>Company_Promotion2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>var_Company_Promo_Selected</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Add_Selected_Promotion_SKUs_to_Collection</targetReference>
            </connector>
            <label>Company Promotion</label>
        </rules>
    </decisions>
    <decisions>
        <name>Short_Term_Promos_to_Remove</name>
        <label>Short-Term Promos to Remove?</label>
        <locationX>1810</locationX>
        <locationY>10730</locationY>
        <defaultConnector>
            <targetReference>Lifetime_Promos_to_Remove</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>No</defaultConnectorLabel>
        <rules>
            <name>dec_Short_Term_Promos_to_Remove_Yes</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>varShortTermPromosToRemove</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Get_Opportunity_SKUs_for_Promo_Removal_Short_Term</targetReference>
            </connector>
            <label>Yes</label>
        </rules>
    </decisions>
    <decisions>
        <name>Short_Term_Promotions_Found</name>
        <label>Short Term Promotions Found?</label>
        <locationX>12681</locationX>
        <locationY>6836</locationY>
        <defaultConnector>
            <isGoTo>true</isGoTo>
            <targetReference>Is_Lifetime_Selected</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Short_Term_Promotions_Found2</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Get_Short_Term_Promotions</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Create_Promotion_Id_Loop</targetReference>
            </connector>
            <label>Short Term Promotions Found</label>
        </rules>
    </decisions>
    <decisions>
        <name>Single_Brand_Promotion_Match</name>
        <label>Single Brand Promotion Match?</label>
        <locationX>9385</locationX>
        <locationY>17000</locationY>
        <defaultConnector>
            <targetReference>Single_Brand_Find_Promotion_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Single_Brand_Promotion_Matched</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Single_Brand_Find_Promotion_Loop.SKU_Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Single_Brand_Product_Loop.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Single_Brand_Set_Promotion_on_Opportunity_SKU_Variable</targetReference>
            </connector>
            <label>Single Brand Promotion Matched</label>
        </rules>
    </decisions>
    <decisions>
        <name>SKU_Product_and_Promotion_SKU_Product_Match</name>
        <label>SKU Product and Promotion SKU Product Match</label>
        <locationX>15464</locationX>
        <locationY>13292</locationY>
        <defaultConnector>
            <targetReference>SKU_Product_Promo_Match_Loop</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Match_Found</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Selected_Promos_Loop.SKU_Product__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>SKU_Product_Promo_Match_Loop.SKU_Product__c</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Short_Term_or_Lifetime</targetReference>
            </connector>
            <label>Match Found</label>
        </rules>
    </decisions>
    <dynamicChoiceSets>
        <name>choiceSetShortTermDiscountTypes</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Short_Term_Discount_Type__c</picklistField>
        <picklistObject>Promotions__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>csLostDueToFeatureChoices</name>
        <dataType>Multipicklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Loss_Due_to_Feature__c</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>csLostTo</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Lost_To__c</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>LossReasons</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Loss_Reason__c</picklistField>
        <picklistObject>Opportunity</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>pl_Product_Sub_Families</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Product_Sub_Family__c</picklistField>
        <picklistObject>SKU_Product__c</picklistObject>
    </dynamicChoiceSets>
    <dynamicChoiceSets>
        <name>pl_Short_Term_Discount_Type</name>
        <dataType>Picklist</dataType>
        <displayField xsi:nil="true" />
        <object xsi:nil="true" />
        <picklistField>Short_Term_Discount_Type__c</picklistField>
        <picklistObject>Promotions__c</picklistObject>
    </dynamicChoiceSets>
    <environments>Default</environments>
    <formulas>
        <name>forToday</name>
        <dataType>Date</dataType>
        <expression>today()</expression>
    </formulas>
    <formulas>
        <name>fxBrandisGrandfathered</name>
        <dataType>Boolean</dataType>
        <expression>CONTAINS({!collGrandfatheredBrands}, {!Brand})</expression>
    </formulas>
    <formulas>
        <name>fxBrandOpportunityName</name>
        <dataType>String</dataType>
        <expression>{!Get_Opportunity.Name} + &#39; - &#39; + {!Brand_Loop} + &#39; Child Opportunity&#39;</expression>
    </formulas>
    <formulas>
        <name>fxBrandtoRecordTypeDevName</name>
        <dataType>String</dataType>
        <expression>CASE({!varBrand}, 
&#39;AffiniPay&#39;,&#39;AffiniPay&#39;,
&#39;CASEpeer&#39;,&#39;CASEpeer&#39;,
&#39;ClientPay&#39;,&#39;ClientPay&#39;,
&#39;CPACharge&#39;,&#39;CPACharge&#39;,
&#39;LawPay_Payments&#39;,&#39;LawPay_Payments&#39;,
&#39;LawPay_Software&#39;,&#39;LawPay_Software&#39;,
&#39;MyCase&#39;,&#39;MyCase&#39;,
&#39;Websites&#39;,&#39;Websites&#39;,
&#39;Soluno&#39;,&#39;Soluno&#39;,
&#39;Docketwise&#39;,&#39;Docketwise&#39;,
&#39;Woodpecker&#39;,&#39;Woodpecker&#39;,
&#39;ClientPay&#39;,&#39;ClientPay&#39;,
&#39;Parent&#39;,&#39;Parent&#39;,
&#39;MyCase&#39;)</expression>
    </formulas>
    <formulas>
        <name>fxBrandtoRecordTypeName</name>
        <dataType>String</dataType>
        <expression>CASE({!varBrand}, 
&#39;AffiniPay&#39;,&#39;AffiniPay&#39;,
&#39;CASEpeer&#39;,&#39;CASEpeer&#39;,
&#39;ClientPay&#39;,&#39;ClientPay&#39;,
&#39;CPACharge&#39;,&#39;CPACharge&#39;,
&#39;LawPay_Payments&#39;,&#39;LawPay Payments&#39;,
&#39;LawPay_Software&#39;,&#39;LawPay Software&#39;,
&#39;MyCase&#39;,&#39;MyCase&#39;,
&#39;Websites&#39;,&#39;Websites&#39;,
&#39;Soluno&#39;,&#39;Soluno&#39;,
&#39;Docketwise&#39;,&#39;Docketwise&#39;,
&#39;Woodpecker&#39;,&#39;Woodpecker&#39;,
&#39;ClientPay&#39;,&#39;ClientPay&#39;,
&#39;Parent&#39;,&#39;Parent&#39;,
&#39;MyCase&#39;)</expression>
    </formulas>
    <formulas>
        <name>fxBundleTitle</name>
        <dataType>String</dataType>
        <expression>IF({!varBundleCount}=1,&quot;Bundle&quot;,&quot;Bundles&quot;)</expression>
    </formulas>
    <formulas>
        <name>fxIsPromotionSelected</name>
        <dataType>Boolean</dataType>
        <expression>LEN({!collAggregatePromotionIds})&gt;1</expression>
    </formulas>
    <formulas>
        <name>fxOpportunitySkuTitle</name>
        <dataType>String</dataType>
        <expression>IF({!varOpportunitySkuCount}=1,&quot;Opportunity SKU&quot;,&quot;Opportunity SKUs&quot;)</expression>
    </formulas>
    <formulas>
        <name>fxParentOpportunity</name>
        <dataType>String</dataType>
        <expression>IF(ISBLANK({!Get_This_Opportunity.Related_Opportunity__c}),{!recordId},{!Get_This_Opportunity.Related_Opportunity__c})</expression>
    </formulas>
    <formulas>
        <name>fxParentOpportunityLink</name>
        <dataType>String</dataType>
        <expression>LEFT({!$Api.Partner_Server_URL_260}, FIND(&#39;/services&#39;, {!$Api.Partner_Server_URL_260})) &amp; {!varParentOpportunityId}</expression>
    </formulas>
    <formulas>
        <name>fxProductIsGrandfatheredForAddOn</name>
        <dataType>Boolean</dataType>
        <expression>CONTAINS({!collGrandfatheredBrands}, TEXT({!dtMainProductsForAddAddOn.outputSelectedRow.Product_Sub_Family__c}))</expression>
    </formulas>
    <formulas>
        <name>fxReparentedOpportunityName</name>
        <dataType>String</dataType>
        <expression>{!Get_This_Opportunity.Name} + &#39; &#39; + {!varBrand} + &#39; Child Opportunity&#39;</expression>
    </formulas>
    <formulas>
        <name>fxShortTermARR</name>
        <dataType>String</dataType>
        <expression>&quot;$&quot; + text( floor( {!Get_This_Opportunity.Short_Term_ARR__c}) ) +
&quot;.&quot; +
right( text( ( 1 + {!Get_This_Opportunity.Short_Term_ARR__c}- floor( {!Get_This_Opportunity.Short_Term_ARR__c}) ) * 100 ), 2 )</expression>
    </formulas>
    <formulas>
        <name>fxShortTermDiscount</name>
        <dataType>Number</dataType>
        <expression>IF(ISBLANK({!Short_Term_Promot.SKU_Product_Specific_Discount__c}),{!Short_Term_Promot.Discount_Percentage__c},{!Short_Term_Promot.SKU_Product_Specific_Discount__c})</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>fxShortTermDuration</name>
        <dataType>Number</dataType>
        <expression>IF(ISBLANK({!Short_Term_Promot.SKU_Product_Specific_Duration__c}),{!Short_Term_Promot.Discount_Duration__c},{!Short_Term_Promot.SKU_Product_Specific_Duration__c})</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <description>Translates this Opportunity&#39;s Record Type Developer name to a Product Sub-family (Brand).</description>
        <name>fxThisOpportunityRecordTypeToBrand</name>
        <dataType>String</dataType>
        <expression>CASE({!Get_This_Opportunity.RecordType.DeveloperName}, 
&#39;AffiniPay&#39;,&#39;AffiniPay&#39;,
&#39;CASEpeer&#39;,&#39;CASEpeer&#39;,
&#39;ClientPay&#39;,&#39;ClientPay&#39;,
&#39;CPACharge&#39;,&#39;CPACharge&#39;,
&#39;LawPay_Payments&#39;,&#39;LawPay_Payments&#39;,
&#39;LawPay_Software&#39;,&#39;LawPay_Software&#39;,
&#39;MyCase&#39;,&#39;MyCase&#39;,
&#39;Websites&#39;,&#39;Websites&#39;,
&#39;Soluno&#39;,&#39;Soluno&#39;,
&#39;Docketwise&#39;,&#39;Docketwise&#39;,
&#39;Woodpecker&#39;,&#39;Woodpecker&#39;,
&#39;ClientPay&#39;,&#39;ClientPay&#39;,
&#39;Parent&#39;,&#39;Parent&#39;,
&#39;MyCase&#39;)</expression>
    </formulas>
    <interviewLabel>Opportunity - Product Selection Screen Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Opportunity - Product Selection Screen Flow</label>
    <loops>
        <name>Add_Non_Partnership_Lifetime_Product_Sku_Promos_to_Display_Collection</name>
        <label>Add Non-Partnership Lifetime Product Sku Promos to Display Collection</label>
        <locationX>11030</locationX>
        <locationY>10868</locationY>
        <collectionReference>Get_Non_Parntership_Lifetime_Product_Sku_Promos</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Non_Partnership_Lifetime_Product_Sku_Promotion_to_Display_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Select_Promotion_Screen</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Add_Selected_Add_On_and_Service_Ids_to_Selected_Product_Id_Collection</name>
        <label>Add Selected Add On and Service Ids to Selected Product Id Collection</label>
        <locationX>5282</locationX>
        <locationY>9284</locationY>
        <collectionReference>collSelectedProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Product_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_for_Existing_Add_On_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Apply_Bundle_Attributes_Loop</name>
        <label>Apply Bundle Attributes Loop</label>
        <locationX>7801</locationX>
        <locationY>20672</locationY>
        <collectionReference>collOpportunitySKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Apply_Bundle_Attributes_Sub_Loop</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Opportunity_SKU_Collection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Apply_Bundle_Attributes_Sub_Loop</name>
        <label>Apply Bundle Attributes Sub-Loop</label>
        <locationX>8241</locationX>
        <locationY>20780</locationY>
        <collectionReference>Get_Bundle_SKU_Products</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Bundle_SKU_Product_Match</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Apply_Bundle_Attributes_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Assign_Main_Product_Loop</name>
        <label>Assign Main Product Loop</label>
        <locationX>6208</locationX>
        <locationY>5612</locationY>
        <collectionReference>Get_Existing_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Is_SKU_Main_Product</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Main_Products_0</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Brand_Count_Loop</name>
        <label>Brand Count Loop</label>
        <locationX>7933</locationX>
        <locationY>15452</locationY>
        <collectionReference>collAggregateSelectedProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Does_SKU_Product_have_Record_Type_Override</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Open_Opportunity_SKUs</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Brand_Loop</name>
        <label>Brand Loop</label>
        <locationX>7141</locationX>
        <locationY>17300</locationY>
        <collectionReference>varSelectedBrands</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_Brand_Variable</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Is_Bundle_Selection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Build_All_Opp_SKU_Id_Loop</name>
        <label>Build All Opp SKU Id Loop</label>
        <locationX>11413</locationX>
        <locationY>5396</locationY>
        <collectionReference>Get_All_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Opportunity_SKU_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Reset_Promo_Variables</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Build_Required_SKU_Product_Id_Collection_Loop</name>
        <label>Build Required SKU Product Id Collection Loop</label>
        <locationX>8360</locationX>
        <locationY>11726</locationY>
        <collectionReference>Get_Required_SKU_Product_Records</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_SKU_Product_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Required_SKU_Products</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Bundle_SKU_Product_Ids_to_Collection_Loop</name>
        <label>Bundle SKU Product Ids to Collection Loop</label>
        <locationX>3218</locationX>
        <locationY>6044</locationY>
        <collectionReference>Get_Bundle_SKU_Products</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_SKU_Product_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_SKU_Products</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Check_for_Existing_Add_On_Loop</name>
        <label>Check for Existing Add On Loop</label>
        <locationX>5240</locationX>
        <locationY>10628</locationY>
        <collectionReference>Get_All_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>dec_Check_if_Add_On_Already_Exists_on_Opportunity</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Add_Selected_Products_to_Aggregate_Collections</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Check_for_Quantity_Lock_on_Edited_Addon_Loop</name>
        <label>Check for Quantity Lock on Edited Addon Loop</label>
        <locationX>5066</locationX>
        <locationY>9068</locationY>
        <collectionReference>dtAddOnsAndServices.outputEditedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>dec_Is_Edited_Addon_Quantity_Locked</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Selected_Addons_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Check_if_Opportunity_Already_Has_Brand_Loop</name>
        <label>Check if Opportunity Already Has Brand Loop</label>
        <locationX>7042</locationX>
        <locationY>9284</locationY>
        <collectionReference>Get_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>dec_Does_Opportunity_Already_have_Brand_Sku</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Filter_Main_Product_Collection_by_Selected_Brand</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Contract_SKUs_Assignment_Loop_0</name>
        <label>Contract SKUs Assignment Loop</label>
        <locationX>7737</locationX>
        <locationY>4220</locationY>
        <collectionReference>Get_Contract_Line_Items_0</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Is_Contract_SKU_a_Main_Product_Type_0</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Product_Selection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Create_Already_Picked_Products_Collection_Loop</name>
        <label>Create Already Picked Products Collection Loop</label>
        <locationX>7933</locationX>
        <locationY>2888</locationY>
        <collectionReference>Get_All_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_SKU</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Has_Opportunity_Promos</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Create_Opportunity_Promos_Loop</name>
        <label>Create Opportunity Promos Loop</label>
        <locationX>7933</locationX>
        <locationY>22472</locationY>
        <collectionReference>collOpportunitySKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Opportunity_Promos_Loop</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Have_Opportunity_Promos</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Create_Promotion_Id_Loop</name>
        <label>Create Promotion Id Loop</label>
        <locationX>11306</locationX>
        <locationY>6944</locationY>
        <collectionReference>Get_Short_Term_Promotions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Promotion_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_All_Related_Short_Term_Promotions</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Edited_Addons_Loop</name>
        <label>Edited Addons Loop</label>
        <locationX>5506</locationX>
        <locationY>9668</locationY>
        <collectionReference>dtAddOnsAndServices.outputEditedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>dec_Does_Edited_Product_Match_Selected_Product</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>dec_Was_Selected_Product_Edited</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Edited_Main_Product_Quantity_Locked_Loop</name>
        <label>Edited Main Product Quantity Locked Loop</label>
        <locationX>8230</locationX>
        <locationY>9992</locationY>
        <collectionReference>dtMainProducts.outputEditedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>dec_Main_Product_Quantity_is_Locked</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Selected_Main_Products_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Edited_Main_Products_Loop</name>
        <label>Edited Main Products Loop</label>
        <locationX>8670</locationX>
        <locationY>10658</locationY>
        <collectionReference>dtMainProducts.outputEditedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>dec_Does_Selected_Main_Product_Match_Edited_Main_Product</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>dec_Was_Selected_Main_Product_Added_to_Collection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Existing_Opportunity_Promo_Id_Loop</name>
        <label>Existing Opportunity Promo Id Loop</label>
        <locationX>13392</locationX>
        <locationY>6236</locationY>
        <collectionReference>Get_Existing_Opportunity_Promos</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Product_Sku_Promotion_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Is_Short_Term_Selected</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Find_Promos_for_Deleted_Opportunity_SKUs_Loop</name>
        <label>Find Promos for Deleted Opportunity SKUs Loop</label>
        <locationX>1854</locationX>
        <locationY>6104</locationY>
        <collectionReference>collDeletedSKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Opportunity_SKU_Id_to_Deleted_Id_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Opportunities_with_Deleted_SKUs_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Find_Promotion_Loop</name>
        <label>Find Promotion Loop</label>
        <locationX>8725</locationX>
        <locationY>19628</locationY>
        <collectionReference>collAggregatePromotions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Promotion_Match</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Assign_Opportunity_SKU_Variable_to_Collection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Get_Bundle_Ids_Loop</name>
        <label>Get Bundle Ids Loop</label>
        <locationX>7801</locationX>
        <locationY>1880</locationY>
        <collectionReference>Get_Bundled_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Bundle_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Opportunity_Bundles</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Lifetime_Partnership_Promos_Loop</name>
        <label>Lifetime Partnership Promos Loop</label>
        <locationX>10729</locationX>
        <locationY>9500</locationY>
        <collectionReference>Get_All_Related_Lifetime_Promotions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Partnership_Lifetime_Promo_to_Display_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_All_Non_Partnership_Lifetime_Promotions</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Lifetime_Promotion_Id_Loop</name>
        <label>Lifetime Promotion Id Loop</label>
        <locationX>10837</locationX>
        <locationY>8984</locationY>
        <collectionReference>Get_Lifetime_Promotions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Lifetime_Promotion_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_All_Related_Lifetime_Promotions</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Non_Parntership_Lifetime_Promos_Loop</name>
        <label>Non-Parntership Lifetime Promos Loop</label>
        <locationX>11030</locationX>
        <locationY>10268</locationY>
        <collectionReference>Get_All_Non_Partnership_Lifetime_Promotions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Non_Partnership_Lifetime_Promo_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Non_Parntership_Lifetime_Product_Sku_Promos</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Open_Opportunity_Loop</name>
        <label>Open Opportunity Loop</label>
        <locationX>7825</locationX>
        <locationY>1064</locationY>
        <collectionReference>collOpportunities</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Open_Open_Opportunity_Id_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Opportunity_SKUs</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Open_Opportunity_SKU_Loop</name>
        <label>Open Opportunity SKU Loop</label>
        <locationX>7933</locationX>
        <locationY>16052</locationY>
        <collectionReference>Get_Open_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Brand_to_Brand_Collection_2</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Opportunity_SKU_Standard_Record_Type</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Opportunities_with_Deleted_SKUs_Loop</name>
        <label>Opportunities with Deleted SKUs Loop</label>
        <locationX>1854</locationX>
        <locationY>6404</locationY>
        <collectionReference>collOpportunityIdsWithDeletedSkus</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Get_All_Child_Opportunity_SKUs</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Deleted_SKU_Count</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Opportunity_Promos_Loop</name>
        <label>Opportunity Promos Loop</label>
        <locationX>8373</locationX>
        <locationY>22580</locationY>
        <collectionReference>collOpportunityPromo</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Does_Product_Match_Opportunity_Promo</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Set_Opportunity_Promo_Variable</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Partnership_Discounts_Loop</name>
        <label>Partnership Discounts Loop</label>
        <locationX>10837</locationX>
        <locationY>8576</locationY>
        <collectionReference>Get_Partnership_Discounts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Partnership_Discount_Promotion_to_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Lifetime_Promotions</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Product_Loop</name>
        <label>Product Loop</label>
        <locationX>8285</locationX>
        <locationY>19196</locationY>
        <collectionReference>collAggregateSelectedProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Rest_Opportunity_SKU_Variable</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Brand_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Remove_Deleted_Opportunity_SKUs_Loop</name>
        <label>Remove Deleted Opportunity SKUs Loop</label>
        <locationX>2074</locationX>
        <locationY>7268</locationY>
        <collectionReference>collOpportunitySkusBeingDeleted</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Remove_Opportunity_SKUs_from_Being_Deleted</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Loss_Reason_Screen</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Remove_Promo_Loop</name>
        <label>Remove Promo Loop</label>
        <locationX>1810</locationX>
        <locationY>10238</locationY>
        <collectionReference>dtOpportunityPromos.outputSelectedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Short_Term_or_Lifetime2</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Short_Term_Promos_to_Remove</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Required_Products_Loop</name>
        <label>Required Products Loop</label>
        <locationX>8340</locationX>
        <locationY>12458</locationY>
        <collectionReference>Get_Required_SKU_Products</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Add_Required_Products_to_Selected_Product_Collection</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Add_Ons_and_Services_for_Main_Product</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Selected_Addons_Loop</name>
        <label>Selected Addons Loop</label>
        <locationX>5066</locationX>
        <locationY>9560</locationY>
        <collectionReference>dtAddOnsAndServices.outputSelectedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Edited_Addons_Loop</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Check_for_Existing_Add_On_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Selected_Main_Products_Loop</name>
        <label>Selected Main Products Loop</label>
        <locationX>8230</locationX>
        <locationY>10550</locationY>
        <collectionReference>dtMainProducts.outputSelectedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Edited_Main_Products_Loop</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Required_SKU_Product_Records</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Selected_Promos_for_Removal_Loop</name>
        <label>Selected Promos for Removal Loop</label>
        <locationX>2338</locationX>
        <locationY>11162</locationY>
        <collectionReference>dtOpportunityPromos.outputSelectedRows</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Short_Term_or_Lifetime3</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Strip_Promo_from_Opportunity_SKU_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Selected_Promos_Loop</name>
        <label>Selected Promos Loop</label>
        <locationX>13022</locationX>
        <locationY>12518</locationY>
        <collectionReference>collSelectedPromotionSkus</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Check_Override_Duration</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Opportunity_SKUs_with_Promo_Details</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Set_Contract_Id_Collection_0</name>
        <label>Set Contract Id Collection</label>
        <locationX>7801</locationX>
        <locationY>3704</locationY>
        <collectionReference>Get_Contract_Subscriptions_0</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Contract_Id_to_Collection_0</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Get_Contract_Line_Items_0</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Set_Quantity_on_Filtered_Products_Loop</name>
        <label>Set Quantity on Filtered Products Loop</label>
        <locationX>7042</locationX>
        <locationY>10592</locationY>
        <collectionReference>collFilteredMainProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_Quantity_on_Loop_Item</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Reset_Filtered_Main_Product_Collection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Short_Term_Promot</name>
        <label>Short Term Promotion Loop</label>
        <locationX>11198</locationX>
        <locationY>7460</locationY>
        <collectionReference>Get_All_Related_Short_Term_Promotions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Product_Sku_Promotion_to_Variable</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Short_Term_Discount_Type2</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Single_Brand_Find_Promotion_Loop</name>
        <label>Single Brand Find Promotion Loop</label>
        <locationX>9165</locationX>
        <locationY>16892</locationY>
        <collectionReference>collAggregatePromotions</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Single_Brand_Promotion_Match</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Single_Brand_Assign_Opportunity_SKU_Variable_to_Collection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Single_Brand_Product_Loop</name>
        <label>Single Brand Product Loop</label>
        <locationX>8725</locationX>
        <locationY>16568</locationY>
        <collectionReference>collAggregateSelectedProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Reset_Opportunity_SKU_Variable</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Is_Bundle_Selection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>SKU_Product_Promo_Match_Loop</name>
        <label>SKU Product Promo Match Loop</label>
        <locationX>14650</locationX>
        <locationY>13184</locationY>
        <collectionReference>Get_All_Opportunity_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>SKU_Product_and_Promotion_SKU_Product_Match</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Selected_Promos_Loop</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Strip_Promo_from_Lifetime_Opportunity_Sku_Loop</name>
        <label>Strip Promo from Lifetime Opportunity Sku Loop</label>
        <locationX>1560</locationX>
        <locationY>12230</locationY>
        <collectionReference>Opportunity_SKUs_for_Promo_Removal_Lifetime</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Opportunity_SKU_to_Variable2</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Remove_Short_Term_Promos</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Strip_Promo_from_Opportunity_SKU_Loop</name>
        <label>Strip Promo from Opportunity SKU Loop</label>
        <locationX>1634</locationX>
        <locationY>11054</locationY>
        <collectionReference>Get_Opportunity_SKUs_for_Promo_Removal_Short_Term</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Selected_Promos_for_Removal_Loop</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Lifetime_Promos_to_Remove</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Update_Add_On_Quantity_Loop</name>
        <label>Update Add On Quantity Loop</label>
        <locationX>6277</locationX>
        <locationY>7844</locationY>
        <collectionReference>collDisplayProducts</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Set_Quantity_to_1</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Set_Display_Collection</targetReference>
        </noMoreValuesConnector>
    </loops>
    <loops>
        <name>Update_Opportunity_SKUs_to_Parent_Loop</name>
        <label>Update Opportunity SKUs to Parent Loop</label>
        <locationX>7801</locationX>
        <locationY>21872</locationY>
        <collectionReference>Get_This_Opportunity_s_SKUs</collectionReference>
        <iterationOrder>Asc</iterationOrder>
        <nextValueConnector>
            <targetReference>Assign_Opportunity_SKU_to_Variable_2</targetReference>
        </nextValueConnector>
        <noMoreValuesConnector>
            <targetReference>Update_Opportunity_SKUs_2</targetReference>
        </noMoreValuesConnector>
    </loops>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>Flow</processType>
    <recordCreates>
        <name>Create_Brand_Opportuntiy</name>
        <label>Create Brand Opportuntiy</label>
        <locationX>8087</locationX>
        <locationY>18722</locationY>
        <assignRecordIdToReference>varNewOpportunityId</assignRecordIdToReference>
        <connector>
            <targetReference>Product_Loop</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Create_Brand_Opportunity_to_faultObject</targetReference>
        </faultConnector>
        <inputAssignments>
            <field>Accepts_Online_Payments__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Accepts_Online_Payments__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>Get_Opportunity.AccountId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CloseDate</field>
            <value>
                <elementReference>Get_Opportunity.CloseDate</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Current_Accounting_Solution_Other__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Current_Accounting_Solution_Other__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Current_Accounting_Solution__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Current_Accounting_Solution__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Current_LPM_Other__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Current_LPM_Other__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Current_LPM__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Current_LPM__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Current_Payments_Solution_Other__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Current_Payments_Solution_Other__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Current_Payments_Solution__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Current_Payments_Solution__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Decision_Process__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Decision_Process__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_MQL_Date_Before_Opportunity_Create__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Last_MQL_Date_Before_Opportunity_Create__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Last_MQL_Type_Before_Opportunity_Create__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Last_MQL_Type_Before_Opportunity_Create__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>fxBrandOpportunityName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Number_of_Employees__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Number_of_Employees__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Obstacles__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Obstacles__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Outbound_Reason__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Outbound_Reason__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Get_Opportunity.OwnerId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Contact__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Primary_Contact__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Primary_Practice_Area__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Primary_Practice_Area__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Qualification_Notes__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Qualification_Notes__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Get_Opportunity_Record_Types.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Related_Opportunity__c</field>
            <value>
                <elementReference>varParentOpportunityId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Sales_Lead_Type__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Sales_Lead_Type__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Secondary_Practice_Areas__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Secondary_Practice_Areas__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StageName</field>
            <value>
                <stringValue>Meeting Scheduled</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Top_Priority_Pain__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Top_Priority_Pain__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Type</field>
            <value>
                <elementReference>Get_This_Opportunity.Type</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Value_Driver__c</field>
            <value>
                <elementReference>Get_This_Opportunity.Value_Driver__c</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordCreates>
    <recordCreates>
        <name>Create_Opportunity_Promos</name>
        <label>Create Opportunity Promos</label>
        <locationX>7669</locationX>
        <locationY>23372</locationY>
        <connector>
            <targetReference>Navigate_to_New_Parent_Opportunity</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Create_Opportunity_Promos_to_faultObject</targetReference>
        </faultConnector>
        <inputReference>collFinalOpportunityPromos</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Opportunity_Promos2</name>
        <label>Create Opportunity Promos</label>
        <locationX>13022</locationX>
        <locationY>14468</locationY>
        <faultConnector>
            <targetReference>Assign_Create_Opportunity_Promos_to_faultObject2</targetReference>
        </faultConnector>
        <inputReference>collOpportunityPromo</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Opportunity_SKU_Records</name>
        <label>Create Opportunity SKU Records</label>
        <locationX>7933</locationX>
        <locationY>21548</locationY>
        <connector>
            <targetReference>Get_This_Opportunity_s_SKUs</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Create_Opportunity_SKU_Records_to_faultObject</targetReference>
        </faultConnector>
        <inputReference>collOpportunitySKUs</inputReference>
    </recordCreates>
    <recordCreates>
        <name>Create_Parent_Opportunity</name>
        <label>Create Parent Opportunity</label>
        <locationX>7405</locationX>
        <locationY>16892</locationY>
        <connector>
            <targetReference>Update_This_Opportunity</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Create_Parent_Opportunity_to_faultObject</targetReference>
        </faultConnector>
        <inputReference>varParentOpportunity</inputReference>
    </recordCreates>
    <recordDeletes>
        <name>Delete_Opportunity_Promos</name>
        <label>Delete Opportunity Promos</label>
        <locationX>1546</locationX>
        <locationY>13754</locationY>
        <faultConnector>
            <targetReference>Assign_Delete_Opportunity_Promos_to_faultObject</targetReference>
        </faultConnector>
        <inputReference>dtOpportunityPromos.outputSelectedRows</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Opportunity_SKUs</name>
        <label>Delete Opportunity SKUs</label>
        <locationX>1590</locationX>
        <locationY>9656</locationY>
        <connector>
            <targetReference>Promotion_Selected_for_Removal</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Delete_Opportunity_SKUs_to_faultObject</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collRemoveOpportunitySkuIds</elementReference>
            </value>
        </filters>
        <object>Opportunity_SKU__c</object>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Opportunity_SKUs3</name>
        <label>Delete Opportunity SKUs</label>
        <locationX>8074</locationX>
        <locationY>9500</locationY>
        <connector>
            <targetReference>Set_Variables</targetReference>
        </connector>
        <inputReference>Get_Opportunity_SKUs_to_Delete</inputReference>
    </recordDeletes>
    <recordDeletes>
        <name>Delete_Related_Opportunity_Promos</name>
        <label>Delete Related Opportunity Promos</label>
        <locationX>1590</locationX>
        <locationY>9158</locationY>
        <connector>
            <targetReference>Delete_Opportunity_SKUs_2</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Delete_Related_Opportunity_Promos_to_faultObject</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity_SKU__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collRemoveOpportunitySkuIds</elementReference>
            </value>
        </filters>
        <object>Opportunity_Promo__c</object>
    </recordDeletes>
    <recordLookups>
        <name>Get_Add_On_Products</name>
        <label>Get Add-On Products</label>
        <locationX>6277</locationX>
        <locationY>6728</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Filter_Addons</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND (3 OR 6) AND 4 AND 5 AND 7</filterLogic>
        <filters>
            <field>Product_Sub_Family__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varSelectedBrand</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </filters>
        <filters>
            <field>Pricing_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varPricingType</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Type__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Main</stringValue>
            </value>
        </filters>
        <filters>
            <field>CurrencyIsoCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CurrencyIsoCode</elementReference>
            </value>
        </filters>
        <filters>
            <field>Available_for_All_Pricing_Types__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotIn</operator>
            <value>
                <elementReference>coll_Picked_Sku_Product_Ids</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Add_Ons_and_Services_for_Main_Product</name>
        <label>Get Add Ons and Services for Main Product</label>
        <locationX>8360</locationX>
        <locationY>12926</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Has_Add_Ons</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3) AND (4 OR 5) AND (6 OR 8) AND 7</filterLogic>
        <filters>
            <field>Product_Sub_Family__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varSelectedBrand</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Service</stringValue>
            </value>
        </filters>
        <filters>
            <field>Product_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Add-On</stringValue>
            </value>
        </filters>
        <filters>
            <field>Product_Tier__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varTier</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Tier__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>N/A</stringValue>
            </value>
        </filters>
        <filters>
            <field>Pricing_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varPricingType</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotIn</operator>
            <value>
                <elementReference>collRequiredProductIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>Available_for_All_Pricing_Types__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Child_Opportunity_SKUs</name>
        <label>Get All Child Opportunity SKUs</label>
        <locationX>2459</locationX>
        <locationY>6512</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_All_Child_Opportunity_SKUs2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opportunities_with_Deleted_SKUs_Loop</elementReference>
            </value>
        </filters>
        <object>Opportunity_SKU__c</object>
        <outputReference>collOpportunitySKUsForTotalCount</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Child_Opportunity_SKUs2</name>
        <label>Get All Child Opportunity SKUs</label>
        <locationX>2459</locationX>
        <locationY>6620</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_SKU_Count_Variables</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opportunities_with_Deleted_SKUs_Loop</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collRemoveOpportunitySkuIds</elementReference>
            </value>
        </filters>
        <object>Opportunity_SKU__c</object>
        <outputReference>collOpportunitySkusBeingDeleted</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Non_Partnership_Lifetime_Promotions</name>
        <label>Get All Non Partnership Lifetime Promotions</label>
        <locationX>11138</locationX>
        <locationY>10052</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Are_Non_Partnership_Promos_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Partnership_Discount_Exclusively__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Discount_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Lifetime</stringValue>
            </value>
        </filters>
        <filters>
            <field>Active_Promo__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Promotions__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Opportunity_SKUs</name>
        <label>Get All Opportunity SKUs</label>
        <locationX>7933</locationX>
        <locationY>2780</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Already_Picked_Products_Collection_Loop</targetReference>
        </connector>
        <filterLogic>((1 AND 2) OR 3) AND 4</filterLogic>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collOpenOpportunityIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Products</name>
        <label>Get All Products</label>
        <locationX>50</locationX>
        <locationY>5396</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Reset_Variables</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND 3 AND ((4 OR 5) OR (6 AND 7 AND 8) OR (9 AND 10 AND 11))</filterLogic>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </filters>
        <filters>
            <field>CurrencyIsoCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CurrencyIsoCode</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotIn</operator>
            <value>
                <elementReference>coll_Picked_Sku_Product_Ids</elementReference>
            </value>
        </filters>
        <filters>
            <field>Activation_Type__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Activation_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Not Date Controlled</stringValue>
            </value>
        </filters>
        <filters>
            <field>Activation_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Opportunity Created Date</stringValue>
            </value>
        </filters>
        <filters>
            <field>Activation_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CreatedDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Deactivation_Date__c</field>
            <operator>LessThan</operator>
            <value>
                <elementReference>Get_Opportunity.CreatedDate</elementReference>
            </value>
        </filters>
        <filters>
            <field>Activation_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Today Date</stringValue>
            </value>
        </filters>
        <filters>
            <field>Activation_Date__c</field>
            <operator>LessThanOrEqualTo</operator>
            <value>
                <elementReference>forToday</elementReference>
            </value>
        </filters>
        <filters>
            <field>Deactivation_Date__c</field>
            <operator>LessThan</operator>
            <value>
                <elementReference>forToday</elementReference>
            </value>
        </filters>
        <object>SKU_Product__c</object>
        <outputReference>collAllProducts</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Product_Name__c</queriedFields>
        <queriedFields>Price_Base__c</queriedFields>
        <queriedFields>Product_Tier__c</queriedFields>
        <queriedFields>Pricing_Type__c</queriedFields>
        <queriedFields>Product_Type__c</queriedFields>
        <queriedFields>Product_Subtype__c</queriedFields>
        <queriedFields>Product_Family__c</queriedFields>
        <queriedFields>Product_Sub_Family__c</queriedFields>
        <queriedFields>IsActive__c</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>Opportunity_Record_Type_Override__c</queriedFields>
        <queriedFields>CurrencyIsoCode</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Related_Lifetime_Promotions</name>
        <label>Get All Related Lifetime Promotions</label>
        <locationX>10837</locationX>
        <locationY>9284</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Lifetime_Promotions_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SKU_Product__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collAllSkuProductIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>Promotion__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collLifetimePromotionIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotIn</operator>
            <value>
                <elementReference>collExcludeProductSkuPromotionIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Product_SKU_Promotions__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_All_Related_Short_Term_Promotions</name>
        <label>Get All Related Short-Term Promotions</label>
        <locationX>11306</locationX>
        <locationY>7244</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Product_Sku_Promotions_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SKU_Product__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collAllSkuProductIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>Promotion__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collShortTermPromotionIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotIn</operator>
            <value>
                <elementReference>collExcludeProductSkuPromotionIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>Active_Promo__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Product_SKU_Promotions__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Bundle_SKU_Products</name>
        <label>Get Bundle SKU Products</label>
        <locationX>3042</locationX>
        <locationY>5720</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>screenReviewBundleSKUs</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Bundle__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>dtAddBundle.outputSelectedRow.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>CurrencyIsoCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CurrencyIsoCode</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Bundle_SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Get bundled Opportunity SKUs related to Opportunity.</description>
        <name>Get_Bundled_Opportunity_SKUs</name>
        <label>Get Bundled Opportunity SKUs</label>
        <locationX>7933</locationX>
        <locationY>1556</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Opportunity_Promos</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Get_Bundled_Opportunity_SKUs_to_faultObject</targetReference>
        </faultConnector>
        <filterLogic>((1 OR 2) AND 3) AND 4</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Bundle__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collOpenOpportunityIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Bundles</name>
        <label>Get Bundles</label>
        <locationX>2822</locationX>
        <locationY>5396</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>screenAddBundles</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </filters>
        <filters>
            <field>CurrencyIsoCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CurrencyIsoCode</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Bundle__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Child_Opportunity_with_Deleted_SKUs</name>
        <label>Get Child Opportunity with Deleted SKUs</label>
        <locationX>2272</locationX>
        <locationY>6944</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Deleting_All_Opportunity_SKUs_Screen</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Opportunities_with_Deleted_SKUs_Loop</elementReference>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>varOpportunityWithDeletedSKUs</outputReference>
        <queriedFields>Id</queriedFields>
        <queriedFields>Name</queriedFields>
        <queriedFields>StageName</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Contract_Line_Items_0</name>
        <label>Get Contract Line Items</label>
        <locationX>7801</locationX>
        <locationY>4004</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Contract_SKUs_Found_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Subscription_Contract__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collSubscriptionContractIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contract_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Contract_SKU</name>
        <label>Get Contract SKU</label>
        <locationX>14980</locationX>
        <locationY>6152</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Contract_SKU_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Subscription_Contract__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collSubscriptionContractIds</elementReference>
            </value>
        </filters>
        <filters>
            <field>SKU_Product__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>dtMainProductsForChangeTier.outputSelectedRow.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contract_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Contract_Subscriptions_0</name>
        <label>Get Contract Subscriptions</label>
        <locationX>7933</locationX>
        <locationY>3488</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Is_Active_Contract_Found_0</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Account__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Active</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Contract__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Existing_Opportunity_Promos</name>
        <label>Get Existing Opportunity Promos</label>
        <locationX>13500</locationX>
        <locationY>6020</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_Promos_Exist2</targetReference>
        </connector>
        <filterLogic>1 OR (2 AND 3)</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_Promo__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Existing_Opportunity_SKUs</name>
        <label>Get Existing Opportunity SKUs</label>
        <locationX>6272</locationX>
        <locationY>5396</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_SKUs_Found</targetReference>
        </connector>
        <filterLogic>or</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Grandfathered_Add_On_Products</name>
        <label>Get Grandfathered Add-On Products</label>
        <locationX>6123</locationX>
        <locationY>7352</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Grandfathered_Add_Ons_Found</targetReference>
        </connector>
        <filterLogic>1 AND (2 OR 3) AND 4 AND 5 AND 6 AND 7 AND 8</filterLogic>
        <filters>
            <field>Product_Sub_Family__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varSelectedBrand</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Tier__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varTier</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Tier__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>N/A</stringValue>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Grand-Fathered</stringValue>
            </value>
        </filters>
        <filters>
            <field>Pricing_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>varPricingType</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Type__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Main</stringValue>
            </value>
        </filters>
        <filters>
            <field>CurrencyIsoCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CurrencyIsoCode</elementReference>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>NotIn</operator>
            <value>
                <elementReference>coll_Picked_Sku_Product_Ids</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Grandfathered_Main_Products</name>
        <label>Get Grandfathered Main Products</label>
        <locationX>6888</locationX>
        <locationY>10100</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Grandfathered_Products_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Product_Sub_Family__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Brand</elementReference>
            </value>
        </filters>
        <filters>
            <field>Status__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Grand-Fathered</stringValue>
            </value>
        </filters>
        <filters>
            <field>CurrencyIsoCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CurrencyIsoCode</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Lifetime_Promotions</name>
        <label>Get Lifetime Promotions</label>
        <locationX>10837</locationX>
        <locationY>8876</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Lifetime_Promotion_Id_Loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Discount_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Lifetime</stringValue>
            </value>
        </filters>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collPromotionsOnPartnershipDiscount</elementReference>
            </value>
        </filters>
        <filters>
            <field>Partnership_Discount_Exclusively__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Active_Promo__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Promotions__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Main_Products</name>
        <label>Get Main Products</label>
        <locationX>15343</locationX>
        <locationY>5504</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Main_Products_Exist_5</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collMainProductIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Main_Products_0</name>
        <label>Get Main Products</label>
        <locationX>6272</locationX>
        <locationY>6188</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Main_Products_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collMainProductIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Non_Parntership_Lifetime_Product_Sku_Promos</name>
        <label>Get Non-Parntership Lifetime Product Sku Promos</label>
        <locationX>11138</locationX>
        <locationY>10652</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Are_Non_Parntership_Lifetime_Product_Sku_Promos_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Promotion__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collNonPartnershipLifetimePromos</elementReference>
            </value>
        </filters>
        <filters>
            <field>SKU_Product__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collAllSkuProductIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Product_SKU_Promotions__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Open_Child_Opportunities</name>
        <label>Get Open Child Opportunities</label>
        <locationX>7669</locationX>
        <locationY>566</locationY>
        <assignNullValuesIfNoRecordsFound>true</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Open_Opportunities_Exist</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Get_Open_Child_Opportunities_to_faultObject</targetReference>
        </faultConnector>
        <filterLogic>(1 OR (2 AND 3)) AND 4</filterLogic>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Related_Opportunity__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>StageName</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue>Closed Lost</stringValue>
            </value>
        </filters>
        <object>Opportunity</object>
        <outputReference>collOpportunities</outputReference>
        <queriedFields>Id</queriedFields>
    </recordLookups>
    <recordLookups>
        <name>Get_Open_Child_Opportunity</name>
        <label>Get Open Child Opportunity</label>
        <locationX>7955</locationX>
        <locationY>18398</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Does_Open_Child_Opportunity_Exist</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND 3 AND (4 OR 5) AND 6</filterLogic>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fxBrandtoRecordTypeName</elementReference>
            </value>
        </filters>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Related_Opportunity__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Open_Opportunities</name>
        <label>Get Open Opportunities</label>
        <locationX>7955</locationX>
        <locationY>17624</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Open_Opp_Found</targetReference>
        </connector>
        <filterLogic>1 AND 2 AND 3 AND 4 AND (5 AND 6)</filterLogic>
        <filters>
            <field>Id</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>AccountId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_Opportunity.AccountId</elementReference>
            </value>
        </filters>
        <filters>
            <field>IsClosed</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Record_Type_Name__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fxBrandtoRecordTypeName</elementReference>
            </value>
        </filters>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Related_Opportunity__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Related_Opportunity__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Open_Opportunity_SKUs</name>
        <label>Get Open Opportunity SKUs</label>
        <locationX>7933</locationX>
        <locationY>15944</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Open_Opportunity_SKU_Loop</targetReference>
        </connector>
        <filterLogic>1 OR ( (2 OR 4) AND 3)</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Related_Opportunity__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity</name>
        <label>Get Opportunity</label>
        <locationX>7933</locationX>
        <locationY>15344</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Brand_Count_Loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_Bundles</name>
        <label>Get Opportunity Bundles</label>
        <locationX>7801</locationX>
        <locationY>2180</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_SKUs_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collBundleIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Bundle__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_Promos</name>
        <label>Get Opportunity Promos</label>
        <locationX>7933</locationX>
        <locationY>1664</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Bundles_on_Opportunity</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Get_Opportunity_Promos_to_faultObject</targetReference>
        </faultConnector>
        <filterLogic>(1 OR 2) AND 3</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collOpenOpportunityIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_Promo__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <description>Check if Opportunity Promo records still exists (e.g. were not deleted earlier in the Flow&#39;s logic) before attempting to delete them to avoid errors.</description>
        <name>Get_Opportunity_Promos_to_Be_Deleted</name>
        <label>Get Opportunity Promos to Be Deleted</label>
        <locationX>1810</locationX>
        <locationY>13538</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_Promos_Still_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collSelectedOpportunityPromoIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_Promo__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_Record_Types</name>
        <label>Get Opportunity Record Types</label>
        <locationX>8087</locationX>
        <locationY>18614</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_Brand_Opportuntiy</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>fxBrandtoRecordTypeDevName</elementReference>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Opportunity</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_SKU_Standard_Record_Type</name>
        <label>Get Opportunity SKU Standard Record Type</label>
        <locationX>7933</locationX>
        <locationY>16352</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Multiple_Brands</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Opportunity_SKU__c</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Standard_SKU</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_SKUs</name>
        <label>Get Opportunity SKUs</label>
        <locationX>7933</locationX>
        <locationY>1448</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Get_Bundled_Opportunity_SKUs</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Get_Opportunity_SKUs_to_faultObject</targetReference>
        </faultConnector>
        <filterLogic>((1 OR 2) AND 3) AND 4</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Bundle__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Opportunity__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collOpenOpportunityIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_SKUs_for_Promo_Removal_Short_Term</name>
        <label>Get Opportunity SKUs for Promo Removal - Short Term</label>
        <locationX>1678</locationX>
        <locationY>10838</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_SKUs_for_Promo_Removal_Found</targetReference>
        </connector>
        <filterLogic>or</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collOpportunitySKUsRemovePromos</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_SKUs_to_Delete</name>
        <label>Get Opportunity SKUs to Delete</label>
        <locationX>8206</locationX>
        <locationY>9284</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>dec_Opportunity_SKUs_to_Delete_Found</targetReference>
        </connector>
        <filterLogic>(1 OR 2 OR (4 AND 5)) AND 3</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Sub_Family__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Brand</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Related_Opportunity__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <stringValue></stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Opportunity_SKUs_with_Unlocked_Quantities</name>
        <label>Get Opportunity SKUs with Unlocked Quantities</label>
        <locationX>14584</locationX>
        <locationY>5396</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Screen_Edit_Quantity</targetReference>
        </connector>
        <filterLogic>(1 OR (2 AND 3)) AND 4</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>Parent_Opportunity__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>Quantity_Locked__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Other_Main_Products</name>
        <label>Get Other Main Products</label>
        <locationX>15134</locationX>
        <locationY>5828</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Other_Main_Products_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Product_Sub_Family__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>dtMainProductsForChangeTier.outputSelectedRow.Product_Sub_Family__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Product_Tier__c</field>
            <operator>NotEqualTo</operator>
            <value>
                <elementReference>dtMainProductsForChangeTier.outputSelectedRow.Product_Tier__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Pricing_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>dtMainProductsForChangeTier.outputSelectedRow.Pricing_Type__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>CurrencyIsoCode</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.CurrencyIsoCode</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Parent_Opportunity_Record_Type</name>
        <label>Get Parent Opportunity Record Type</label>
        <locationX>7405</locationX>
        <locationY>16676</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Set_Parent_Opportunity_Variable_2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Parent</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Partnership_Discounts</name>
        <label>Get Partnership Discounts</label>
        <locationX>10979</locationX>
        <locationY>8360</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Do_Partnership_Discounts_Exist</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Partnership__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Discounting_Referral_Partnership__c</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Partnership_Discount__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Related_Opportunity_Promos</name>
        <label>Get Related Opportunity Promos</label>
        <locationX>1854</locationX>
        <locationY>8942</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Do_Opportunity_SKUs_have_Promos</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity_SKU__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collRemoveOpportunitySkuIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_Promo__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Required_SKU_Product_Records</name>
        <label>Get Required SKU Product Records</label>
        <locationX>8360</locationX>
        <locationY>11618</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Build_Required_SKU_Product_Id_Collection_Loop</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Parent_SKU_Product__c</field>
            <operator>In</operator>
            <value>
                <elementReference>collSelectedProductIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Required_SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Required_SKU_Products</name>
        <label>Get Required SKU Products</label>
        <locationX>8360</locationX>
        <locationY>12026</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Required_Products_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collRequiredProductIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_Short_Term_Promotions</name>
        <label>Get Short-Term Promotions</label>
        <locationX>12681</locationX>
        <locationY>6728</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Short_Term_Promotions_Found</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Discount_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Short-Term</stringValue>
            </value>
        </filters>
        <filters>
            <field>Short_Term_Discount_Type__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>radiobuttons_Short_Term_Discount_Type</elementReference>
            </value>
        </filters>
        <filters>
            <field>Active_Promo__c</field>
            <operator>EqualTo</operator>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Promotions__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_SKU_Products</name>
        <label>Get SKU Products</label>
        <locationX>3218</locationX>
        <locationY>6344</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_SKU_Products_to_Collection</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collAggregateSelectedProductIds</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>SKU_Product__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_This_Opportunity</name>
        <label>Get This Opportunity</label>
        <locationX>7933</locationX>
        <locationY>134</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Assign_This_Opportunity_to_a_Colleciton</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Get_This_Opportunity_to_faultOjbect</targetReference>
        </faultConnector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>recordId</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Opportunity</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Get_This_Opportunity_s_SKUs</name>
        <label>Get This Opportunity&#39;s SKUs</label>
        <locationX>7933</locationX>
        <locationY>21656</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_SKUs_Found_2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Opportunity__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Opportunity_SKUs_for_Promo_Removal_Lifetime</name>
        <label>Opportunity SKUs for Promo Removal - Lifetime</label>
        <locationX>1668</locationX>
        <locationY>12014</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Opportunity_Skus_Found_Lifetime</targetReference>
        </connector>
        <filterLogic>or</filterLogic>
        <filters>
            <field>Id</field>
            <operator>In</operator>
            <value>
                <elementReference>collLifetimeOppSkusToRemovePromo</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>false</getFirstRecordOnly>
        <object>Opportunity_SKU__c</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <name>Update_Lifetime_Opportunity_Skus</name>
        <label>Update Lifetime Opportunity Skus</label>
        <locationX>13022</locationX>
        <locationY>14360</locationY>
        <connector>
            <targetReference>Create_Opportunity_Promos2</targetReference>
        </connector>
        <inputReference>collLifetimeOpportunitySkus</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunities_to_Lost</name>
        <label>Update Opportunities to Lost</label>
        <locationX>1590</locationX>
        <locationY>8552</locationY>
        <connector>
            <targetReference>Get_Related_Opportunity_Promos</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Update_Opportunities_to_Lost_to_faultObject</targetReference>
        </faultConnector>
        <inputReference>collOpportunitiesToBeUpdatedToLost</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_SKU_Quantities</name>
        <label>Update Opportunity SKU Quantities</label>
        <locationX>14584</locationX>
        <locationY>5612</locationY>
        <connector>
            <targetReference>Get_Opportunity</targetReference>
        </connector>
        <inputReference>dtEditQty.outputEditedRows</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_SKUs</name>
        <label>Update Opportunity SKUs</label>
        <locationX>1546</locationX>
        <locationY>13106</locationY>
        <connector>
            <targetReference>Get_Opportunity_Promos_to_Be_Deleted</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Update_Opportunity_SKUs_to_faultObject</targetReference>
        </faultConnector>
        <inputReference>collOpportunitySKUsForPromoRemoval</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_SKUs_2</name>
        <label>Update Opportunity SKUs</label>
        <locationX>7801</locationX>
        <locationY>22280</locationY>
        <connector>
            <targetReference>Create_Opportunity_Promos_Loop</targetReference>
        </connector>
        <inputReference>collOpportunitySkusToUpdate</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_SKUs_with_Promo_Details</name>
        <label>Update Opportunity SKUs with Promo Details</label>
        <locationX>13022</locationX>
        <locationY>14252</locationY>
        <connector>
            <targetReference>Update_Lifetime_Opportunity_Skus</targetReference>
        </connector>
        <faultConnector>
            <targetReference>Assign_Update_Opportunity_SKUs_with_Promo_Details_to_faultObject</targetReference>
        </faultConnector>
        <inputReference>collOpportunitySKUs</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Opportunity_Skus_with_Short_Term_Promos</name>
        <label>Update Opportunity Skus with Short-Term Promos</label>
        <locationX>1678</locationX>
        <locationY>12806</locationY>
        <connector>
            <targetReference>Remove_Lifetime_Promos</targetReference>
        </connector>
        <inputReference>collOpportunitySKUsRemoveShortTermPromos</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_This_Opportunity</name>
        <label>Update This Opportunity</label>
        <locationX>7405</locationX>
        <locationY>17000</locationY>
        <connector>
            <targetReference>Set_Parent_Opportunity_Id_Variable_2</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Get_This_Opportunity.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Related_Opportunity__c</field>
            <value>
                <elementReference>varParentOpportunity.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Opportunity</object>
    </recordUpdates>
    <runInMode>SystemModeWithoutSharing</runInMode>
    <screens>
        <name>Add_Ons_and_Services</name>
        <label>Add Ons and Services</label>
        <locationX>6272</locationX>
        <locationY>8636</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Add_on_Selection</targetReference>
        </connector>
        <fields>
            <name>txtAddonSelection</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Select Add Ons and Services&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>txtNoMainProductsValidation</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt;Cannot add an Add-on because no main products have been added to this opportunity yet, and {!Get_This_Opportunity.Account.Name} does not have any main products on an active contract.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varNoMainProductsValidation</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtNoAddons</name>
            <fieldText>&lt;p&gt;&lt;em&gt;There are no Add-Ons or Services for the product you selected.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varNoAddons</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>dtAddOnsAndServices</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SKU_Product__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>SKU_Product__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Product_Name__c,Product_Type__c,Pricing_Type__c,Price_Base__c,Quantity__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>Product_Name__c:Product, Price_Base__c:Price</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideClearSelectionButton</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideClearSelectionButton</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>collDisplayProducts</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnEdits</name>
                <value>
                    <stringValue>Quantity__c:true</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>suppressBottomBar</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>preSelectedRows</name>
                <value>
                    <elementReference>collSelectedProducts</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varNoAddons</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>varNoMainProductsValidation</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtQuantityLocked</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;The quantity is locked for the product you edited.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varQuantityLocked</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtDuplicateSKU</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;The SKU(s) you selected has already been added to the Opportunity. Duplicate SKUs cannot be added.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varAddOnExists</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Add_Ons_From_Main_Products_Path</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Skip&quot;,&quot;value&quot;:&quot;Skip&quot;,&quot;iconPosition&quot;:&quot;right&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:forward&quot;,&quot;index&quot;:1},{&quot;label&quot;:&quot;Add Item&quot;,&quot;value&quot;:&quot;Select&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:null,&quot;index&quot;:2}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>var_From_Main_Product_Path</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>dtAddOnsAndServices.numberOfRowsSelected</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Add_Ons_No_Selection_From_Main_Product_Path</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Skip&quot;,&quot;value&quot;:&quot;Skip&quot;,&quot;iconPosition&quot;:&quot;right&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:forward&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>dtAddOnsAndServices.numberOfRowsSelected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>var_From_Main_Product_Path</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Add_Ons_Back</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>var_From_Main_Product_Path</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>dtAddOnsAndServices.numberOfRowsSelected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Add_Ons_Select</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Add Item&quot;,&quot;value&quot;:&quot;Select&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:null,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>dtAddOnsAndServices.numberOfRowsSelected</leftValueReference>
                    <operator>GreaterThan</operator>
                    <rightValue>
                        <numberValue>0.0</numberValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>var_From_Main_Product_Path</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Brand_Selection</name>
        <label>Brand Selection</label>
        <locationX>6382</locationX>
        <locationY>9068</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Brand_Screen_Action</targetReference>
        </connector>
        <fields>
            <name>txtBrandSelection</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Select a Brand and Pricing Type&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Brand_Selection_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Brand_Selection_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>Brand</name>
                    <choiceReferences>pl_Product_Sub_Families</choiceReferences>
                    <dataType>String</dataType>
                    <fieldText>Brand</fieldText>
                    <fieldType>RadioButtons</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                </fields>
                <fields>
                    <name>txt_Missing_Brand</name>
                    <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;Please select a brand.&lt;/em&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>var_No_Brand_Selected</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Brand_Selection_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>qcBillingType</name>
                    <extensionName>c:fsc_quickChoiceFSC</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>displayMode</name>
                        <value>
                            <stringValue>Radio</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>inputMode</name>
                        <value>
                            <stringValue>Static Choices</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>staticChoicesString</name>
                        <value>
                            <stringValue>[{&quot;label&quot;:&quot;Monthly&quot;,&quot;value&quot;:&quot;Monthly&quot;},{&quot;label&quot;:&quot;Annual&quot;,&quot;value&quot;:&quot;Annual&quot;}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>masterLabel</name>
                        <value>
                            <stringValue>Pricing Type:</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>txt_Missing_Pricing_Type</name>
                    <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;Please select a pricing type.&lt;/em&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>var_No_Pricing_Type_Selected</leftValueReference>
                            <operator>EqualTo</operator>
                            <rightValue>
                                <booleanValue>true</booleanValue>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Brand_Selection_Section1_Column3</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Brand_Selection_Section1_Column4</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>buttons_Brand</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;index&quot;:0,&quot;iconName&quot;:&quot;utility:back&quot;},{&quot;label&quot;:&quot;Next&quot;,&quot;value&quot;:&quot;Next&quot;,&quot;iconPosition&quot;:&quot;right&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:forward&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Copy_1_of_No_Other_Products_Found_Screen</name>
        <label>Change Tier Screen</label>
        <locationX>14980</locationX>
        <locationY>6044</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Contract_SKU</targetReference>
        </connector>
        <fields>
            <name>txtDisplayOtherProducts</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px; color: rgb(0, 0, 0);&quot;&gt;Select a New Product&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtNewTier</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SKU_Product__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>SKU_Product__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Other_Main_Products</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Product_Name__c,Product_Tier__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isRequired</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isRequired</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideCheckboxColumn</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Deleting_All_Opportunity_SKUs_Screen</name>
        <label>Deleting All Opportunity SKUs Screen</label>
        <locationX>2272</locationX>
        <locationY>7052</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Delete_Action</targetReference>
        </connector>
        <fields>
            <name>txtDeletingAllOpportunitySKUs</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;You are removing all Opportunity SKUs from the Opportunity below. Do you want to close the Opportunity or keep it open to add more products to it?&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Opportunity: &lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;{!varOpportunityWithDeletedSKUs.Name}&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Stage: &lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;{!varOpportunityWithDeletedSKUs.StageName}&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>buttonsDeleteOpportunitySKUs</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>neither</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Close Opportunity&quot;,&quot;value&quot;:&quot;Close Opportunity&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:close&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Add a Different Product&quot;,&quot;value&quot;:&quot;Add a Different Product&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:add&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Fault_Screen</name>
        <label>Fault Screen</label>
        <locationX>13528</locationX>
        <locationY>14684</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>txtFaultMessage</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(0, 0, 0); font-size: 16px;&quot;&gt;Ooops! We hit a snag...&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;Step:&lt;strong&gt; {!faultObject}&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;Flow Fault: &lt;strong&gt;{!$Flow.FaultMessage}&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Lifetime_Promo_Already_Exists_Screen</name>
        <label>Lifetime Promo Already Exists Screen</label>
        <locationX>15266</locationX>
        <locationY>13616</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Selected_Promos_Loop</targetReference>
        </connector>
        <fields>
            <name>txt_LifetimePromoAlreadyExists</name>
            <fieldText>&lt;p&gt;&lt;span style=&quot;background-color: rgb(255, 255, 255); color: rgb(68, 68, 68);&quot;&gt;A lifetime promotion is already added to the Opportunity. Please remove the existing promotion before adding a new promotion.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>button_Lifetime_Promo_Duplicate_Ok</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;OK&quot;,&quot;value&quot;:&quot;OK&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:null,&quot;index&quot;:0}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Loss_Reason_Screen</name>
        <label>Loss Reason Screen</label>
        <locationX>2074</locationX>
        <locationY>7568</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Loss_Reasons_Action_Decision</targetReference>
        </connector>
        <fields>
            <name>txtLossReason</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Please provide a loss reason and further detail into why this Opportunity was lost.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>plLoss_Reason2</name>
            <choiceReferences>LossReasons</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Loss Reason</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>mspl_LostDueToFeature</name>
            <choiceReferences>csLostDueToFeatureChoices</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Lost Due to Feature</fieldText>
            <fieldType>MultiSelectPicklist</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>plLoss_Reason2</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <stringValue>Feature</stringValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>plLost_To</name>
            <choiceReferences>csLostTo</choiceReferences>
            <dataType>String</dataType>
            <fieldText>Lost To</fieldText>
            <fieldType>DropdownBox</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>Explanation</name>
            <fieldText>Explanation</fieldText>
            <fieldType>LargeTextArea</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
        </fields>
        <fields>
            <name>buttons_Loss_Reason_Action</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>neither</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;index&quot;:0,&quot;iconName&quot;:&quot;utility:back&quot;},{&quot;label&quot;:&quot;Next&quot;,&quot;value&quot;:&quot;Next&quot;,&quot;iconPosition&quot;:&quot;right&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;index&quot;:1,&quot;iconName&quot;:&quot;utility:forward&quot;}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Main_Product_Selection</name>
        <label>Main Product Selection</label>
        <locationX>7480</locationX>
        <locationY>8852</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Main_Product_Actions</targetReference>
        </connector>
        <fields>
            <name>txtProductSelection</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Select a Product&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtMainProducts</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SKU_Product__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>SKU_Product__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Product_Name__c,Product_Tier__c,Price_Base__c,Quantity__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>collFilteredMainProducts</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>preSelectedRows</name>
                <value>
                    <elementReference>collEmptyProducts</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>Product_Name__c:Product, Price_Base__c:Price</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isRequired</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideCheckboxColumn</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideClearSelectionButton</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideClearSelectionButton</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnEdits</name>
                <value>
                    <stringValue>Quantity__c:true</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>suppressBottomBar</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>txtQuantityLocked2</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;The quantity is locked and cannot be changed for the product you edited.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varQuantityLocked</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txt_Select_a_Product</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;Please select a product&lt;span class=&quot;ql-cursor&quot;&gt;﻿&lt;/span&gt;.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>var_No_Main_Product_Selected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtBrandAlreadySelected</name>
            <fieldText>&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(0, 0, 0);&quot;&gt;A {!Brand} SKU has already been added to this Opportunity. Check the box below to remove the current {!Brand} SKU before clicking &quot;Add Item.&quot;﻿&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varBrandExistsOnOpportunity</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>checkboxRemoveOpportunitySkus</name>
            <dataType>Boolean</dataType>
            <fieldText>I confirm I want to remove the current SKU and any add-ons.</fieldText>
            <fieldType>InputField</fieldType>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <validationRule>
                <errorMessage>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;You must check this box to proceed.&lt;/em&gt;&lt;/p&gt;</errorMessage>
                <formulaExpression>AND({!checkboxRemoveOpportunitySkus} , {!varBrandExistsOnOpportunity}) ||({!buttons_Main_Product.value} =&quot;Back&quot;)</formulaExpression>
            </validationRule>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varBrandExistsOnOpportunity</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Main_Product</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Add Item&quot;,&quot;value&quot;:&quot;Select&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:null,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Main_Product_Selection_for_Add_On_Screen</name>
        <label>Main Product Selection for Add-On Screen</label>
        <locationX>5870</locationX>
        <locationY>6404</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Main_Product_for_Add_Ons_Actions</targetReference>
        </connector>
        <fields>
            <name>txtSelectaMainProduct</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Add Add-ons or Services for which product?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtMainProductsForAddAddOn</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SKU_Product__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>SKU_Product__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Product_Name__c,Product_Sub_Family__c,Product_Tier__c,Pricing_Type__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideClearSelectionButton</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideClearSelectionButton</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Main_Products_0</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>txt_No_Main_Product_Selected</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;Please select a product.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>var_No_Main_Product_Selected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Main_Product_for_Add_Ons</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Select&quot;,&quot;value&quot;:&quot;Select&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Main_Product_Selection_Screen</name>
        <label>Main Product Selection Screen</label>
        <locationX>15134</locationX>
        <locationY>5720</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Get_Other_Main_Products</targetReference>
        </connector>
        <fields>
            <name>txtSelectABrand</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Which product would you like to upgrade or downgrade?&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtMainProductsForChangeTier</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SKU_Product__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>SKU_Product__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Main_Products</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Product_Name__c,Product_Sub_Family__c,Product_Tier__c,Pricing_Type__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideClearSelectionButton</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideClearSelectionButton</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>No_Main_Products_Found_Screen</name>
        <label>No Main Products Found Screen</label>
        <locationX>7174</locationX>
        <locationY>11216</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>Brand_Selection</targetReference>
        </connector>
        <fields>
            <name>txtNoProductsFoundTitle</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;No Products Found&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>txtNoProductsFoundMessage</name>
            <fieldText>&lt;p&gt;&lt;em&gt;No products match that criteria.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>buttons_No_Main_Products</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>No_Other_Products_Found_Screen</name>
        <label>No Other Products Found Screen</label>
        <locationX>15288</locationX>
        <locationY>6044</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>txtNoOtherProductsFound</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;color: rgb(255, 0, 0); font-size: 16px;&quot;&gt;No other tiers exist for the selected product sub-family.&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>No_Products_to_Upgrade_Screen</name>
        <label>No Products to Upgrade Screen</label>
        <locationX>15552</locationX>
        <locationY>5720</locationY>
        <allowBack>false</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <fields>
            <name>txtNoProductsToUpgrade</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;No Products Found to Upgrade or Downgrade&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>txtNoProductsFoundToUpgradeSubText</name>
            <fieldText>&lt;p&gt;&lt;em&gt;{!Get_This_Opportunity.Account.Name} does not have any products on an active contract to upgrade or downgrade.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Open_Opportunities_Screen</name>
        <label>Open Opportunities Screen</label>
        <locationX>7801</locationX>
        <locationY>17840</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Add_to_Selected_Opp</targetReference>
        </connector>
        <fields>
            <name>txtOpenOpportunities</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;There is at least one other open Opportunity for {!Get_Opportunity.Account.Name}. Would you like to add the {!varBrand} products to one of the Opportunities below? &lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtOpenOpportunities</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Opportunity</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Opportunity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Open_Opportunities</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Name,StageName,CloseDate,Owner_Name_at_Close__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Product_Selection</name>
        <label>Product Selection</label>
        <locationX>7933</locationX>
        <locationY>5180</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Action_Type</targetReference>
        </connector>
        <fields>
            <name>Product_Selection_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Product_Selection_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>txtBundle</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;{!fxBundleTitle}&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>dtBundles</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Bundle__c</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>objectName</name>
                        <value>
                            <stringValue>Bundle__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_suppressBottomBar</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_navigateNextOnSave</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnFields</name>
                        <value>
                            <stringValue>Bundle_Name__c,Description__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_matchCaseOnFilters</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>Get_Opportunity_Bundles</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideHeaderActions</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideHeaderActions</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideClearSelectionButton</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideClearSelectionButton</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <fields>
                    <name>dtBndledSKUs</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Opportunity_SKU__c</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>objectName</name>
                        <value>
                            <stringValue>Opportunity_SKU__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>Get_Bundled_Opportunity_SKUs</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_suppressBottomBar</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_navigateNextOnSave</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnFields</name>
                        <value>
                            <stringValue>Name,SKU_Product__c,Qty__c,Price_Base__c,Total__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_matchCaseOnFilters</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideCheckboxColumn</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideCheckboxColumn</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_isRequired</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_singleRowSelection</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideHeaderActions</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideHeaderActions</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnLabels</name>
                        <value>
                            <stringValue>Referral_Partner_Discount__c:Partner Discount</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varHasBundles</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Product_Selection_Section2</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Product_Selection_Section2_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>txtOpportunitySkus</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Product Picker&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>dtOpportunitySkus</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Opportunity_SKU__c</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>objectName</name>
                        <value>
                            <stringValue>Opportunity_SKU__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_suppressBottomBar</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_navigateNextOnSave</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnFields</name>
                        <value>
                            <stringValue>Name,SKU_Product__c,Opportunity_Link__c,Qty__c,Price_Base__c,Short_Term_Total__c,Lifetime_Total__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_matchCaseOnFilters</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnLabels</name>
                        <value>
                            <stringValue>Name:Line Item, Opportunity_Link__c:Opportunity, Qty__c:Quantity, Price_Base__c:Unit Price</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideHeaderActions</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideHeaderActions</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideClearSelectionButton</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideClearSelectionButton</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>collUnbundledSkus</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnWidths</name>
                        <value>
                            <stringValue>SKU_Product__c:300, Opportunity_Link__c:300,</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varHasUnbundledSKUs</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Product_Selection_Section3</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Product_Selection_Section3_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>txtPromos</name>
                    <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Promotions&lt;/strong&gt;&lt;/p&gt;</fieldText>
                    <fieldType>DisplayText</fieldType>
                </fields>
                <fields>
                    <name>dtOpportunityPromos</name>
                    <dataTypeMappings>
                        <typeName>T</typeName>
                        <typeValue>Opportunity_Promo__c</typeValue>
                    </dataTypeMappings>
                    <extensionName>c:datatable</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>objectName</name>
                        <value>
                            <stringValue>Opportunity_Promo__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>tableData</name>
                        <value>
                            <elementReference>Get_Opportunity_Promos</elementReference>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_suppressBottomBar</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_navigateNextOnSave</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnFields</name>
                        <value>
                            <stringValue>Name,Promotion_Name__c,Promotion_Type__c,Applied_to_Product__c,Discount__c,Discount_Duration__c,Promotion_Discount__c</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_matchCaseOnFilters</name>
                        <value>
                            <stringValue>CB_FALSE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>cb_hideHeaderActions</name>
                        <value>
                            <stringValue>CB_TRUE</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>hideHeaderActions</name>
                        <value>
                            <booleanValue>true</booleanValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnWidths</name>
                        <value>
                            <stringValue>Name:241, Promotion_Name__c:241, Promotion_Type__c:241, Applied_to_Product__c:241, Discount__c:241, Discount_Duration__c:241, Promotion_Discount__c:418</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>columnLabels</name>
                        <value>
                            <stringValue>Promotion_Discount__c:Discount (Fixed $)</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>12</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varHasPromos</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>Product_Selection_Section4</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Product_Selection_Section4_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>buttonsActionSelection</name>
                    <extensionName>c:fsc_flowButtonBar</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>alignment</name>
                        <value>
                            <stringValue>left</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>orientation</name>
                        <value>
                            <stringValue>horizontal</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showLines</name>
                        <value>
                            <stringValue>above</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>actionMode</name>
                        <value>
                            <stringValue>navigation</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>buttons</name>
                        <value>
                            <stringValue>[{&quot;label&quot;:&quot;Add Product&quot;,&quot;value&quot;:&quot;Add Product&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:add&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Add Add-On&quot;,&quot;value&quot;:&quot;Add Add-On&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:add&quot;,&quot;index&quot;:1},{&quot;label&quot;:&quot;Add Bundle&quot;,&quot;value&quot;:&quot;Add Bundle&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:ad_set&quot;,&quot;index&quot;:2},{&quot;label&quot;:&quot;Add Discount&quot;,&quot;value&quot;:&quot;Add Discount&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:money&quot;,&quot;index&quot;:3}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Product_Selection_Section4_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>buttonsEditActions</name>
                    <extensionName>c:fsc_flowButtonBar</extensionName>
                    <fieldType>ComponentInstance</fieldType>
                    <inputParameters>
                        <name>alignment</name>
                        <value>
                            <stringValue>left</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>orientation</name>
                        <value>
                            <stringValue>horizontal</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>showLines</name>
                        <value>
                            <stringValue>above</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>actionMode</name>
                        <value>
                            <stringValue>navigation</stringValue>
                        </value>
                    </inputParameters>
                    <inputParameters>
                        <name>buttons</name>
                        <value>
                            <stringValue>[{&quot;label&quot;:&quot;Edit Quantity&quot;,&quot;value&quot;:&quot;Edit Quantity&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:edit&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Remove Item(s)&quot;,&quot;value&quot;:&quot;Remove Items&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:close&quot;,&quot;index&quot;:1},{&quot;label&quot;:&quot;Upgrade/Downgrade&quot;,&quot;value&quot;:&quot;Upgrade/Downgrade&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:arrowup&quot;,&quot;index&quot;:2}]</stringValue>
                        </value>
                    </inputParameters>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                    <storeOutputAutomatically>true</storeOutputAutomatically>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>6</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Required_Products_Screen</name>
        <label>Required Products Screen</label>
        <locationX>8164</locationX>
        <locationY>12242</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Required_Products_Action</targetReference>
        </connector>
        <fields>
            <name>txtRequiredProducts</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Required Products&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 12px;&quot;&gt;The items listed below must be purchased with the selected product.&lt;/span&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtRequiredProducts</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>SKU_Product__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>SKU_Product__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Required_SKU_Products</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Product_Name__c,Product_Tier__c,Product_Type__c,Pricing_Type__c,Price_Base__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideCheckboxColumn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideCheckboxColumn</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isRequired</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>Product_Tier__c:Tier, Price_Base__c:Price</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideClearSelectionButton</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideClearSelectionButton</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>buttons_Required_Products</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Next&quot;,&quot;value&quot;:&quot;Next&quot;,&quot;iconPosition&quot;:&quot;right&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:forward&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Screen_Edit_Quantity</name>
        <label>Screen Edit Quantity</label>
        <locationX>14584</locationX>
        <locationY>5504</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Update_Opportunity_SKU_Quantities</targetReference>
        </connector>
        <fields>
            <name>txtEditQty</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Edit Quantity&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtEditQty</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Opportunity_SKU__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Opportunity_SKU__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnEdits</name>
                <value>
                    <stringValue>Qty__c:true</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>SKU_Product__c,Qty__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>SKU_Product__c:Product, Qty__c:Quantity</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideCheckboxColumn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideCheckboxColumn</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isRequired</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Opportunity_SKUs_with_Unlocked_Quantities</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnCellAttribs</name>
                <value>
                    <stringValue>2:{class: &#39;slds-theme_warning&#39;}</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>suppressBottomBar</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideClearSelectionButton</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideClearSelectionButton</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>true</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>screenAddBundles</name>
        <label>screenAddBundles</label>
        <locationX>2822</locationX>
        <locationY>5504</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>Bundle_Action</targetReference>
        </connector>
        <fields>
            <name>txtAddBundle</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Select a Bundle&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtAddBundle</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Bundle__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Bundle__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Bundles</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Name,Bundle_Name__c,Description__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>buttons_Add_Bundle</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Add Bundle&quot;,&quot;value&quot;:&quot;Add Bundle&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>screenReviewBundleSKUs</name>
        <label>Review Bundle SKUs</label>
        <locationX>3042</locationX>
        <locationY>5828</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Confirm_Bundled_Skus_Actions</targetReference>
        </connector>
        <fields>
            <name>txtRevieBundleSKUs</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Products included in {!dtAddBundle.outputSelectedRow.Name} Bundle&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtAddBundleSkus</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Bundle_SKU_Product__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Bundle_SKU_Product__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Name,Product_Name__c,Promotion__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideCheckboxColumn</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideCheckboxColumn</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isRequired</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>Get_Bundle_SKU_Products</elementReference>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <fields>
            <name>buttons_Confirm_Bundled_Skus</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Next&quot;,&quot;value&quot;:&quot;Next&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:forward&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Select_Discount_Type_Screen</name>
        <label>Select Discount Type Screen</label>
        <locationX>11413</locationX>
        <locationY>5804</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Promo_Action</targetReference>
        </connector>
        <fields>
            <name>txtSelectDiscountType</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Select a Discount Type&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>Select_Discount_Type_Screen_Section1</name>
            <fieldType>RegionContainer</fieldType>
            <fields>
                <name>Select_Discount_Type_Screen_Section1_Column1</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>cboxgrpDiscountType</name>
                    <choiceReferences>choiceShortTerm</choiceReferences>
                    <choiceReferences>choiceLifetime</choiceReferences>
                    <dataType>String</dataType>
                    <fieldText>Discount Type</fieldText>
                    <fieldType>MultiSelectCheckboxes</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>true</isRequired>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Select_Discount_Type_Screen_Section1_Column2</name>
                <fieldType>Region</fieldType>
                <fields>
                    <name>radiobuttons_Short_Term_Discount_Type</name>
                    <choiceReferences>pl_Short_Term_Discount_Type</choiceReferences>
                    <dataType>String</dataType>
                    <fieldText>Short-Term Discount Type</fieldText>
                    <fieldType>RadioButtons</fieldType>
                    <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
                    <isRequired>false</isRequired>
                    <visibilityRule>
                        <conditionLogic>and</conditionLogic>
                        <conditions>
                            <leftValueReference>cboxgrpDiscountType</leftValueReference>
                            <operator>Contains</operator>
                            <rightValue>
                                <elementReference>choiceShortTerm</elementReference>
                            </rightValue>
                        </conditions>
                    </visibilityRule>
                </fields>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Select_Discount_Type_Screen_Section1_Column3</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <fields>
                <name>Select_Discount_Type_Screen_Section1_Column4</name>
                <fieldType>Region</fieldType>
                <inputParameters>
                    <name>width</name>
                    <value>
                        <stringValue>3</stringValue>
                    </value>
                </inputParameters>
                <isRequired>false</isRequired>
            </fields>
            <isRequired>false</isRequired>
            <regionContainerType>SectionWithoutHeader</regionContainerType>
        </fields>
        <fields>
            <name>buttons_Promo_Action</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Next&quot;,&quot;value&quot;:&quot;Next&quot;,&quot;iconPosition&quot;:&quot;right&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:&quot;utility:forward&quot;,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Select_Promotion_Screen</name>
        <label>Select Promotion Screen</label>
        <locationX>11306</locationX>
        <locationY>11336</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>false</allowPause>
        <connector>
            <targetReference>dec_Select_Promo_Action</targetReference>
        </connector>
        <fields>
            <name>Copy_2_of_txtAddPromo</name>
            <fieldText>&lt;p&gt;&lt;strong style=&quot;font-size: 16px;&quot;&gt;Select a Promotion&lt;/strong&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>dtSalesApprovedPromotions</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Product_SKU_Promotions__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Product_SKU_Promotions__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Name,SKU_Name__c,SKU_Product_Specific_Duration__c,SKU_Product_Specific_Discount__c,Discount_Fix_or_Percent__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>hideHeaderActions</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_hideHeaderActions</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnEdits</name>
                <value>
                    <stringValue>SKU_Product_Specific_Duration__c:true, SKU_Product_Specific_Discount__c:true</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>SKU_Product_Specific_Duration__c:# of Periods, SKU_Product_Specific_Discount__c:Discount, Discount_Fix_or_Percent__c:Base Discount</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnWidths</name>
                <value>
                    <stringValue>Name:284, SKU_Name__c:284, SKU_Product_Specific_Duration__c:285, SKU_Product_Specific_Discount__c:285, Discount_Fix_or_Percent__c:774</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>navigateNextOnSave</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnCellAttribs</name>
                <value>
                    <stringValue>3:{class: &#39;slds-theme_warning&#39;};4:{class: &#39;slds-theme_warning&#39;}</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>collShortTermPromotions</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isDisplayHeader</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isDisplayHeader</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableLabel</name>
                <value>
                    <stringValue>Sales Approved Promotions</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>var_Sales_Approved_Promo_Selected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>varNoShortTermDiscountsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtOverrideValidation</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;The maximum # of periods for this discount&lt;/em&gt;&lt;em style=&quot;color: rgb(255, 0, 0); background-color: rgb(255, 255, 255);&quot;&gt; is {!varMaxDuration}. Please enter a number from 1 to {!varMaxDuration}.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varDurationMaxExceeded</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtDurationLocked</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;The duration is locked for the {!varSelectedPromo} promotion.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varDurationLocked</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtDiscountLimitExceeded</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;The maximum discount allowed for the selected promotion is {!varMaxDiscount}%.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varDiscountMaxExceeded</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtDiscountLocked</name>
            <fieldText>&lt;p&gt;&lt;em style=&quot;color: rgb(255, 0, 0);&quot;&gt;The discount % is locked for this promotion.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varDiscountLocked</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>dtCompanyPromos</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Product_SKU_Promotions__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Product_SKU_Promotions__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>collShortTermPromotions</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Name,SKU_Name__c,Discount_Duration__c,Discount_Percentage__c,Discount_Fix_or_Percent__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnWidths</name>
                <value>
                    <stringValue>Name:284, SKU_Name__c:284, Discount_Duration__c:284, Discount_Percentage__c:284, Discount_Fix_or_Percent__c:828</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableLabel</name>
                <value>
                    <stringValue>Product SKU Promotions</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isDisplayHeader</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isDisplayHeader</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnEdits</name>
                <value>
                    <stringValue>Discount_Percentage__c:true</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>Discount_Fix_or_Percent__c:Base Discount</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>var_Company_Promo_Selected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>varNoShortTermDiscountsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtNoPromosAvailable</name>
            <fieldText>&lt;p&gt;&lt;em&gt;No short-term promotions are available.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varNoShortTermDiscountsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>cboxgrpDiscountType</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <elementReference>choiceShortTerm</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txt_Space</name>
            <fieldText>&lt;p&gt; &lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>(1 OR 2) AND 3</conditionLogic>
                <conditions>
                    <leftValueReference>var_Company_Promo_Selected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>var_Sales_Approved_Promo_Selected</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>varNoLifetimePromotionsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>dtLifetimePromotions2</name>
            <dataTypeMappings>
                <typeName>T</typeName>
                <typeValue>Product_SKU_Promotions__c</typeValue>
            </dataTypeMappings>
            <extensionName>c:datatable</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>objectName</name>
                <value>
                    <stringValue>Product_SKU_Promotions__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableData</name>
                <value>
                    <elementReference>collLifetimeProductSkuPromosForSelection</elementReference>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_suppressBottomBar</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_navigateNextOnSave</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnFields</name>
                <value>
                    <stringValue>Name,SKU_Name__c,Discount_Percentage__c,Discount_Fix_or_Percent__c</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_matchCaseOnFilters</name>
                <value>
                    <stringValue>CB_FALSE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnWidths</name>
                <value>
                    <stringValue>Name:379, SKU_Name__c:379, Discount_Percentage__c:379, Discount_Fix_or_Percent__c:827</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>singleRowSelection</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_singleRowSelection</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>isDisplayHeader</name>
                <value>
                    <booleanValue>true</booleanValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>cb_isDisplayHeader</name>
                <value>
                    <stringValue>CB_TRUE</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>tableLabel</name>
                <value>
                    <stringValue>Lifetime Promotions</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>columnLabels</name>
                <value>
                    <stringValue>Discount_Fix_or_Percent__c:Base Discount</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varNoLifetimePromotionsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>txtNoLifetimePromosAvailable</name>
            <fieldText>&lt;p&gt;&lt;em&gt;No lifetime promotions are available.&lt;/em&gt;&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varNoLifetimePromotionsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>cboxgrpDiscountType</leftValueReference>
                    <operator>Contains</operator>
                    <rightValue>
                        <elementReference>choiceLifetime</elementReference>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Promo_Selection</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0},{&quot;label&quot;:&quot;Add Promotion&quot;,&quot;value&quot;:&quot;Add Promotion&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;brand&quot;,&quot;iconName&quot;:null,&quot;index&quot;:1}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>or</conditionLogic>
                <conditions>
                    <leftValueReference>varNoLifetimePromotionsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>varNoShortTermDiscountsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>false</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <fields>
            <name>buttons_Promo_Selection_2</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;Back&quot;,&quot;value&quot;:&quot;Back&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:&quot;utility:back&quot;,&quot;index&quot;:0}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
            <visibilityRule>
                <conditionLogic>and</conditionLogic>
                <conditions>
                    <leftValueReference>varNoLifetimePromotionsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
                <conditions>
                    <leftValueReference>varNoShortTermDiscountsFound</leftValueReference>
                    <operator>EqualTo</operator>
                    <rightValue>
                        <booleanValue>true</booleanValue>
                    </rightValue>
                </conditions>
            </visibilityRule>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <screens>
        <name>Short_Term_Promo_Already_Exists_Screen</name>
        <label>Short Term Promo Already Exists Screen</label>
        <locationX>14738</locationX>
        <locationY>13616</locationY>
        <allowBack>true</allowBack>
        <allowFinish>true</allowFinish>
        <allowPause>true</allowPause>
        <connector>
            <isGoTo>true</isGoTo>
            <targetReference>SKU_Product_Promo_Match_Loop</targetReference>
        </connector>
        <fields>
            <name>txt_ShortTermPromoAlreadyExists</name>
            <fieldText>&lt;p&gt;A short-term promotion is already added to the Opportunity. Please remove the existing promotion before adding a new promotion.&lt;/p&gt;</fieldText>
            <fieldType>DisplayText</fieldType>
        </fields>
        <fields>
            <name>button_ShortTerm_Promo_Duplicate_Ok</name>
            <extensionName>c:fsc_flowButtonBar</extensionName>
            <fieldType>ComponentInstance</fieldType>
            <inputParameters>
                <name>alignment</name>
                <value>
                    <stringValue>left</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>orientation</name>
                <value>
                    <stringValue>horizontal</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>showLines</name>
                <value>
                    <stringValue>above</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>actionMode</name>
                <value>
                    <stringValue>navigation</stringValue>
                </value>
            </inputParameters>
            <inputParameters>
                <name>buttons</name>
                <value>
                    <stringValue>[{&quot;label&quot;:&quot;OK&quot;,&quot;value&quot;:&quot;OK&quot;,&quot;iconPosition&quot;:&quot;left&quot;,&quot;variant&quot;:&quot;neutral&quot;,&quot;iconName&quot;:null,&quot;index&quot;:0}]</stringValue>
                </value>
            </inputParameters>
            <inputsOnNextNavToAssocScrn>UseStoredValues</inputsOnNextNavToAssocScrn>
            <isRequired>true</isRequired>
            <storeOutputAutomatically>true</storeOutputAutomatically>
        </fields>
        <showFooter>false</showFooter>
        <showHeader>false</showHeader>
    </screens>
    <start>
        <locationX>7807</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Get_This_Opportunity</targetReference>
        </connector>
    </start>
    <status>Draft</status>
    <variables>
        <name>coll_Addons_With_Quantity</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>coll_Picked_Sku_Product_Ids</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collAddOns</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collAddOnsAndServices</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collAggregatePromotionIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collAggregatePromotions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>collAggregateSelectedProductIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collAggregateSelectedProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collAllProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collAllSkuProductIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collBundleIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collDeletedSKUs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collDisplayProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collEmptyProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collEmptyPromotions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>collEmptyTextCollection</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collExcludeProductSkuPromotionIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collFilteredMainProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collFilteredProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collFinalOpportunityPromos</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Promo__c</objectType>
    </variables>
    <variables>
        <name>collGrandfatheredBrands</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collLifetimeOpportunitySkus</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collLifetimeOppSkusToRemovePromo</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collLifetimeProductSkuPromosForSelection</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>collLifetimePromotionIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collMainProductIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collMainProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collNewOpportunitySKUs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collNewOpportunitySKUValues</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collNonPartnershipLifetimePromos</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collOpenOpportunities</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>collOpenOpportunityIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collOpportunities</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>collOpportunitiesToBeUpdatedToLost</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>collOpportunityIdsWithDeletedSkus</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collOpportunityPromo</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Promo__c</objectType>
    </variables>
    <variables>
        <name>collOpportunityPromosToReparent</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Promo__c</objectType>
    </variables>
    <variables>
        <name>collOpportunitySKUs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collOpportunitySkusBeingDeleted</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collOpportunitySKUsForPromoRemoval</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collOpportunitySKUsForTotalCount</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collOpportunitySKUsRemovePromos</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collOpportunitySKUsRemoveShortTermPromos</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collOpportunitySkusToUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collProductSubFamilies</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collPromotionIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collPromotions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Promotions__c</objectType>
    </variables>
    <variables>
        <name>collPromotionsOnPartnershipDiscount</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collRelatedPromotions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Promotions__c</objectType>
    </variables>
    <variables>
        <name>collRemovalValidationForBundledSKUs</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collRemoveOpportunitySkuIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collReparentedOpportunitySkuIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collReparentedOpportunitySkus</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>collRequiredProductIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collSelectedBundleIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collSelectedOpportunityPromoIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collSelectedProductIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collSelectedProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collSelectedProductSkuPromotions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>collSelectedPromotionSkus</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>collServiceProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collShortTermPromotionIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collShortTermPromotions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>collSkuProductPromotions</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>collSubscriptionContractIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>collTempSkuProducts</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>collThisOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>collUnbundledSkus</name>
        <dataType>SObject</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_Addons</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_Main_Product_Collection_by_Selected_Brand</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>currentItem_Filter_to_Add_Ons_and_Services_for_Main_Product_0</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>currentItemFromSourceCollection</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>faultObject</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>recordId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>true</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>var_Addon_Is_Edited</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_Company_Promo_Selected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_From_Main_Product_Path</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_Main_Product_Is_Edited</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_No_Brand_Selected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_No_Main_Product_Selected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_No_Pricing_Type_Selected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_Sales_Approved_Promo_Selected</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>var_Temp_Sku_Product</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>varAddOnCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varAddOnExists</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varAggregateBrandCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varAggregateBrands</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varAllOpportunitySkuCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varAttemptToDeleteBundledSKU</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varBrand</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varBrandCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varBrandExistsOnOpportunity</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varBundleCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varBundleSelection</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varChangedContractSku</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Contract_SKU__c</objectType>
    </variables>
    <variables>
        <name>varChangeTier</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varContractPathToggle</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varDeletedSkuCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varDeleteOppSKUs</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varDiscountLocked</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varDiscountMaxExceeded</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varDurationLocked</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varDurationMaxExceeded</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varEmptyOpportunitySku</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>varHasBundles</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varHasPromos</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varHasUnbundledSKUs</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varIsGrandfathered</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varIsParent</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varIsShortTermCompanyPromo</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varLifetimePromosToRemove</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varLostOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>varMainProductCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varMaxDiscount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
    </variables>
    <variables>
        <name>varMaxDuration</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varNewOpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varNewParentOpportunityCreated</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varNoAddons</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varNoLifetimePromotionsFound</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>true</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varNoMainProductsValidation</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varNoShortTermDiscountsFound</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varOpportunityPromo</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_Promo__c</objectType>
    </variables>
    <variables>
        <name>varOpportunitySku</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>varOpportunitySkuCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varOpportunitySKUDiscountedTotal</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varOpportunitySKUId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varOpportunitySkusBeingDeletedCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varOpportunitySKUTotal</name>
        <dataType>Currency</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>2</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varOpportunitySkuToUpdate</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity_SKU__c</objectType>
    </variables>
    <variables>
        <name>varOpportunityWithDeletedSKUs</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>varOppRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varParentOpportunity</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Opportunity</objectType>
    </variables>
    <variables>
        <name>varParentOpportunityId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varPreviousOpportunityBrand</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varPreviousOpportunityRecordTypeId</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varPricingType</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varProductCollectionIndex</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varProductSkuPromotion</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>varPromotionCount</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
    </variables>
    <variables>
        <name>varQuantityLocked</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varRelatedPromotionIds</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varReparentToggle</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varSelectedBrand</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varSelectedBrands</name>
        <dataType>String</dataType>
        <isCollection>true</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varSelectedProductSkuPromotion</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>Product_SKU_Promotions__c</objectType>
    </variables>
    <variables>
        <name>varSelectedPromo</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>varSelectedPromotionIndex</name>
        <dataType>Number</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <scale>0</scale>
        <value>
            <numberValue>0.0</numberValue>
        </value>
    </variables>
    <variables>
        <name>varShortTermPromosToRemove</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varSkuProduct</name>
        <dataType>SObject</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <objectType>SKU_Product__c</objectType>
    </variables>
    <variables>
        <name>varThisOppIsParent</name>
        <dataType>Boolean</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <booleanValue>false</booleanValue>
        </value>
    </variables>
    <variables>
        <name>varTier</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
</Flow>
